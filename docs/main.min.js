"use strict";

var openItem = function openItem(item) {
  var container = item.closest(".team__item");
  var contentBlock = container.find(".team__content");
  var textBlock = contentBlock.find(".team__content-block");
  var reqHeight = textBlock.height();
  container.addClass("active");
  contentBlock.height(reqHeight);
};
var closeEveryItem = function closeEveryItem(container) {
  var items = container.find(".team__content");
  var itemContainer = container.find(".team__item");
  itemContainer.removeClass("active");
  items.height(0);
};
$(".team__title").click(function (e) {
  var $this = $(e.currentTarget);
  var container = $this.closest(".team");
  var elemContainer = $this.closest(".team__item");
  if (elemContainer.hasClass("active")) {
    closeEveryItem(container);
  } else {
    closeEveryItem(container);
    openItem($this);
  }
});
;
var burger = document.querySelector('.burger');
var overlay = document.querySelector('.overlay');
var body = document.querySelector('body');
var links = document.querySelectorAll('.overlay-menu__link');
[1, 2, 3, 4, 5, 6, 7];
links.forEach(function (element) {
  element.addEventListener('click', toggleMenu);
});
function toggleMenu() {
  burger.classList.toggle('burger--active');
  overlay.classList.toggle('overlay--active');
  body.classList.toggle('body--active-menu');
}
burger.addEventListener('click', toggleMenu);
;
var myMap;
var init = function init() {
  myMap = new ymaps.Map("map", {
    center: [55.75, 37.61],
    zoom: 14,
    controls: []
  });
  var coords = [[55.752004, 37.576133], [55.751730, 37.603581], [55.755655, 37.619234]];
  var myCollection = new ymaps.GeoObjectCollection({}, {
    draggable: false,
    iconLayout: 'default#image',
    iconImageHref: "./img/marker.svg",
    iconImageSize: [44, 54],
    iconImageOffset: [-3, -42]
  });
  coords.forEach(function (coord) {
    myCollection.add(new ymaps.Placemark(coord));
  });
  myMap.geoObjects.add(myCollection);
};
ymaps.ready(init);
;
var measureWidth = function measureWidth(item) {
  var reqItemWidth = 0;
  var screenWidth = $(window).width();
  var container = item.closest(".products-menu__list");
  var titlesBlocks = container.find(".products-menu__title");
  var titlesWidth = titlesBlocks.width() * titlesBlocks.length;
  var textContainer = item.find(".products-menu__content");
  var paddingLeft = parseInt(textContainer.css("padding-left"));
  var paddingRight = parseInt(textContainer.css("padding-right"));
  var isMobile = window.matchMedia("(max-width: 767px)").matches;
  if (isMobile) {
    reqItemWidth = screenWidth - titlesWidth;
  } else {
    reqItemWidth = 524;
  }
  return {
    containerWidth: reqItemWidth,
    textContainerWidth: reqItemWidth - paddingRight - paddingLeft
  };
};
var closeEveryItemInContainer = function closeEveryItemInContainer(container) {
  var items = container.find(".products-menu__item");
  var content = container.find(".products-menu__content");
  items.removeClass("active");
  content.width(0);
};
var openItems = function openItems(item) {
  var hiddenContent = item.find(".products-menu__content");
  var reqWidth = measureWidth(item);
  var textBlock = item.find(".products-menu__content");
  item.addClass("active");
  hiddenContent.width(reqWidth.container);
  textBlock.width(reqWidth.textContainerWidth);
};
$(".products-menu__title").on("click", function (e) {
  e.preventDefault();
  var $this = $(e.currentTarget);
  var item = $this.closest(".products-menu__item");
  var itemOpened = item.hasClass("active");
  var container = $this.closest(".products-menu__list");
  if (itemOpened) {
    closeEveryItemInContainer(item);
  } else {
    closeEveryItemInContainer(container);
    openItems(item);
  }
});
;
var validateFields = function validateFields(form, fieldsArray) {
  fieldsArray.forEach(function (field) {
    field.removeClass("input-error");
    if (field.val().trim() === "") {
      field.addClass("input-error");
    }
  });
  var errorFields = form.find(".input-error");
  return errorFields.length === 0;
};
$(".form").submit(function (e) {
  e.preventDefault();
  var form = $(e.currentTarget);
  var name = form.find("[name='name']");
  var phone = form.find("[name='phone']");
  var comment = form.find("[name='comment']");
  var to = form.find("[name='to']");
  var modal = $("#modal");
  var content = modal.find(".modal__content");
  modal.removeClass("error-modal");
  var isValid = validateFields(form, [name, phone, comment, to]);
  if (isValid) {
    var request = $.ajax({
      url: "https://webdev-api.loftschool.com/sendmail",
      method: "post",
      data: {
        name: name.val(),
        phone: phone.val(),
        comment: comment.val(),
        to: to.val()
      }
    });
    request.done(function (data) {
      var message = "Cообщение отправлено";
      content.text(message);
    });
    request.fail(function (data) {
      var message = "Произошла ошибка";
      content.text(message);
      modal.addClass("error-modal");
    });
    request.always(function () {
      new Fancybox([{
        src: "#modal",
        type: "inline"
      }], {
        closeButton: false
      });
    });
  }
  document.getElementById("form").reset();
});
$(".app-submit-btn").click(function (e) {
  e.preventDefault();
  Fancybox.close();
});
document.getElementById("form").reset();
;
var sections = $("section");
var display = $(".maincontent");
var sideMenu = $(".fixed-menu");
var menuItems = sideMenu.find(".fixed-menu__item");
var mobileDetect = new MobileDetect(window.navigator.userAgent);
var isMobile = mobileDetect.mobile();
var inScroll = false;
sections.first().addClass("active");
var countSectionPosition = function countSectionPosition(sectionEq) {
  var position = sectionEq * -100;
  if (isNaN(position)) {
    console.error("Передано не верное значение в countSectionPosition");
    return 0;
  }
  return position;
};
var changeMenuThemeForSection = function changeMenuThemeForSection(sectionEq) {
  var currentSection = sections.eq(sectionEq);
  var menuTheme = currentSection.attr("data-sidemenu-theme");
  var activeClass = "fixed-menu--black";
  if (menuTheme === "black") {
    sideMenu.addClass(activeClass);
  } else {
    sideMenu.removeClass(activeClass);
  }
};
var resetActiveClassForItem = function resetActiveClassForItem(items, itemEq, activeClass) {
  items.eq(itemEq).addClass(activeClass).siblings().removeClass(activeClass);
};
var performTransition = function performTransition(sectionEq) {
  if (inScroll) return;
  var transitionOver = 1000;
  var mouseInertiaOver = 300;
  inScroll = true;
  var position = countSectionPosition(sectionEq);
  display.css({
    transform: "translateY(".concat(position, "%)")
  });
  resetActiveClassForItem(sections, sectionEq, "active");
  setTimeout(function () {
    inScroll = false;
    changeMenuThemeForSection(sectionEq);
    resetActiveClassForItem(menuItems, sectionEq, "fixed-menu__item--active");
  }, transitionOver + mouseInertiaOver);
};
var viewportsSroller = function viewportsSroller() {
  var activeSection = sections.filter(".active");
  var nextSection = activeSection.next();
  var prevSection = activeSection.prev();
  return {
    next: function next() {
      if (nextSection.length) {
        performTransition(nextSection.index());
      }
    },
    prev: function prev() {
      if (prevSection.length) {
        performTransition(prevSection.index());
      }
    }
  };
};
$(window).on("wheel", function (e) {
  var deltaY = e.originalEvent.deltaY;
  var scroller = viewportsSroller();
  var activeSection = sections.filter(".active");
  if (deltaY > 0) {
    if (activeSection.hasClass("map--section")) {
      e.preventDefault();
    } else {
      scroller.next();
    }
  }
  if (deltaY < 0) {
    if (activeSection.hasClass("map--section")) {
      e.preventDefault();
    } else {
      scroller.prev();
    }
  }
});
$(window).on("keydown", function (e) {
  var tagName = e.target.tagName.toLowerCase();
  var userTypingInInputs = tagName === "input" || tagName === "textarea";
  var scroller = viewportsSroller();
  if (userTypingInInputs) return;
  switch (e.keyCode) {
    case 38:
      scroller.prev();
      break;
    case 40:
      scroller.next();
      break;
  }
});
$(".wrapper").on("touchmove", function (e) {
  return e.preventDefault();
});
$("[data-scroll-to").click(function (e) {
  e.preventDefault();
  var $this = $(e.currentTarget);
  var target = $this.attr("data-scroll-to");
  var reqSection = $("[data-section-id=\"".concat(target, "\"]"));
  performTransition(reqSection.index());
});
if (isMobile) {
  //https://github.com/mattbryson/TouchSwipe-Jquery-Plugin
  $("body").swipe({
    swipe: function swipe(event, direction) {
      var scroller = viewportsSroller();
      var scrollDirection = "";
      if (direction === "up") scrollDirection = "next";
      if (direction === "down") scrollDirection = "prev";
      scroller[scrollDirection]();
    }
  });
}
;
var player;
var durationControl;
var soundControl;
var intervalId;
document.addEventListener('DOMContentLoaded', function (e) {
  player = document.getElementById('player');

  // вешаем обработчик события на на тег video
  player.addEventListener('click', playStop);

  // находим все кнопки play и навешиваем через цикл на каждую обработчик
  var playButtons = document.querySelectorAll('.play');
  for (var i = 0; i < playButtons.length; i++) {
    playButtons[i].addEventListener('click', playStop);
  }

  // обработчик событий на кнопку динамик
  var micControl = document.getElementById('micLevel');
  micControl.addEventListener('click', soundOf);

  // обработчики события для ползунка продолжительности видео
  durationControl = document.getElementById('durationLevel');
  durationControl.addEventListener('mousedown', stopInterval);
  durationControl.addEventListener('click', setVideoDuration);
  durationControl.min = 0;
  durationControl.value = 0;

  // обработчики события для ползунка громоксти
  soundControl = document.getElementById('volumeLevel');
  soundControl.addEventListener('click', changeSoundVolume);
  soundControl.addEventListener('mouseup', changeSoundVolume);

  // задаем максимальное и минимальное значение volume
  soundControl.min = 0;
  soundControl.max = 10;
  soundControl.value = soundControl.max;
});
function playStop() {
  // нахожу мою кнопку с картинкой PLAY и показываю или скрываю ее
  var playImg = document.querySelector('.player__play');
  playImg.classList.toggle('player__play--active');

  // присваиваем ползунку проолжительности видео максимальное значение 
  // равное продолжительности нашего видео
  durationControl.max = player.duration;

  // проверяем стоит ли видео на паузе, если да то продолжаем воспроизведение
  if (player.paused) {
    // запускаем видео
    player.play();
    // обновляем ползунок каждые 15 мили секунд функцией updateDuration
    intervalId = setInterval(updateDuration, 1000 / 66);
  } else {
    // понимаем что видео не стоит на паузе,и ставим его на паузу
    player.pause();
    clearInterval(intervalId);
  }
}

// обновляет позицию ползунка продолжительности видео
function updateDuration() {
  durationControl.value = player.currentTime;
}
function stopInterval() {
  player.pause();
  clearInterval(intervalId);
}

// Реализует возможность перемотки видео
function setVideoDuration() {
  if (player.paused) {
    player.play();
  } else {
    player.pause();
  }
  player.currentTime = durationControl.value;
  // обновляем ползунок каждые 15 мили секунд функцией updateDuration
  intervalId = setInterval(updateDuration, 1000 / 66);
}

// управление звуком видео
function changeSoundVolume() {
  // свойстов video.volume может иметь значени от 0 до 1 
  // поэтому делим все на 10 , что бы более четко контролировать значение

  player.volume = soundControl.value / 10;
}
function soundOf() {
  // делаем проверку уровня громкости 
  // если у нашего видео есть звук , то мы его выключаем 
  // предварительно запомнив текущую позицию громкости в переменную soundLevel

  if (player.volume === 0) {
    player.volume = soundLevel;
    soundControl.value = soundLevel * 10;
  } else {
    soundLevel = player.volume;
    player.volume = 0;
    soundControl.value = 0;
  }
}
;
var mobileDetection = new MobileDetect(window.navigator.userAgent);
var Mobile = mobileDetection.mobile();
var slider = $(".slider__list").bxSlider({
  pager: false,
  controls: false,
  touchEnabled: false
});
if (Mobile) {
  slider.bxSlider({
    touchEnabled: true
  });
}
$(".slider__arrow--left").click(function (e) {
  e.preventDefault();
  slider.goToPrevSlide();
});
$(".slider__arrow--right").click(function (e) {
  e.preventDefault();
  slider.goToNextSlide();
});
var findBlockByAlias = function findBlockByAlias(alias) {
  return $(".reviews__item").filter(function (ndx, item) {
    return $(item).attr("data-linked-with") === alias;
  });
};
$(".interactive-avatar__switcher-link").click(function (e) {
  e.preventDefault();
  var $this = $(e.currentTarget);
  var target = $this.attr("data-open");
  var itemToShow = findBlockByAlias(target);
  var curItem = $this.closest(".interactive-avatar");
  itemToShow.addClass("active").siblings().removeClass("active");
  curItem.addClass("active").siblings().removeClass("active");
});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFjY28uanMiLCJidXJnZXIuanMiLCJtYXAuanMiLCJtZW51LWFjY28uanMiLCJtb2RhbC5qcyIsIm9vcC5qcyIsInBsYXllci5qcyIsInNsaWRlci5qcyIsInRhYnMuanMiXSwibmFtZXMiOlsib3Blbkl0ZW0iLCJpdGVtIiwiY29udGFpbmVyIiwiY2xvc2VzdCIsImNvbnRlbnRCbG9jayIsImZpbmQiLCJ0ZXh0QmxvY2siLCJyZXFIZWlnaHQiLCJoZWlnaHQiLCJhZGRDbGFzcyIsImNsb3NlRXZlcnlJdGVtIiwiaXRlbXMiLCJpdGVtQ29udGFpbmVyIiwicmVtb3ZlQ2xhc3MiLCIkIiwiY2xpY2siLCJlIiwiJHRoaXMiLCJjdXJyZW50VGFyZ2V0IiwiZWxlbUNvbnRhaW5lciIsImhhc0NsYXNzIiwiYnVyZ2VyIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwib3ZlcmxheSIsImJvZHkiLCJsaW5rcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwiZWxlbWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJ0b2dnbGVNZW51IiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwibXlNYXAiLCJpbml0IiwieW1hcHMiLCJNYXAiLCJjZW50ZXIiLCJ6b29tIiwiY29udHJvbHMiLCJjb29yZHMiLCJteUNvbGxlY3Rpb24iLCJHZW9PYmplY3RDb2xsZWN0aW9uIiwiZHJhZ2dhYmxlIiwiaWNvbkxheW91dCIsImljb25JbWFnZUhyZWYiLCJpY29uSW1hZ2VTaXplIiwiaWNvbkltYWdlT2Zmc2V0IiwiY29vcmQiLCJhZGQiLCJQbGFjZW1hcmsiLCJnZW9PYmplY3RzIiwicmVhZHkiLCJtZWFzdXJlV2lkdGgiLCJyZXFJdGVtV2lkdGgiLCJzY3JlZW5XaWR0aCIsIndpbmRvdyIsIndpZHRoIiwidGl0bGVzQmxvY2tzIiwidGl0bGVzV2lkdGgiLCJsZW5ndGgiLCJ0ZXh0Q29udGFpbmVyIiwicGFkZGluZ0xlZnQiLCJwYXJzZUludCIsImNzcyIsInBhZGRpbmdSaWdodCIsImlzTW9iaWxlIiwibWF0Y2hNZWRpYSIsIm1hdGNoZXMiLCJjb250YWluZXJXaWR0aCIsInRleHRDb250YWluZXJXaWR0aCIsImNsb3NlRXZlcnlJdGVtSW5Db250YWluZXIiLCJjb250ZW50Iiwib3Blbkl0ZW1zIiwiaGlkZGVuQ29udGVudCIsInJlcVdpZHRoIiwib24iLCJwcmV2ZW50RGVmYXVsdCIsIml0ZW1PcGVuZWQiLCJ2YWxpZGF0ZUZpZWxkcyIsImZvcm0iLCJmaWVsZHNBcnJheSIsImZpZWxkIiwidmFsIiwidHJpbSIsImVycm9yRmllbGRzIiwic3VibWl0IiwibmFtZSIsInBob25lIiwiY29tbWVudCIsInRvIiwibW9kYWwiLCJpc1ZhbGlkIiwicmVxdWVzdCIsImFqYXgiLCJ1cmwiLCJtZXRob2QiLCJkYXRhIiwiZG9uZSIsIm1lc3NhZ2UiLCJ0ZXh0IiwiZmFpbCIsImFsd2F5cyIsIkZhbmN5Ym94Iiwic3JjIiwidHlwZSIsImNsb3NlQnV0dG9uIiwiZ2V0RWxlbWVudEJ5SWQiLCJyZXNldCIsImNsb3NlIiwic2VjdGlvbnMiLCJkaXNwbGF5Iiwic2lkZU1lbnUiLCJtZW51SXRlbXMiLCJtb2JpbGVEZXRlY3QiLCJNb2JpbGVEZXRlY3QiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJtb2JpbGUiLCJpblNjcm9sbCIsImZpcnN0IiwiY291bnRTZWN0aW9uUG9zaXRpb24iLCJzZWN0aW9uRXEiLCJwb3NpdGlvbiIsImlzTmFOIiwiY29uc29sZSIsImVycm9yIiwiY2hhbmdlTWVudVRoZW1lRm9yU2VjdGlvbiIsImN1cnJlbnRTZWN0aW9uIiwiZXEiLCJtZW51VGhlbWUiLCJhdHRyIiwiYWN0aXZlQ2xhc3MiLCJyZXNldEFjdGl2ZUNsYXNzRm9ySXRlbSIsIml0ZW1FcSIsInNpYmxpbmdzIiwicGVyZm9ybVRyYW5zaXRpb24iLCJ0cmFuc2l0aW9uT3ZlciIsIm1vdXNlSW5lcnRpYU92ZXIiLCJ0cmFuc2Zvcm0iLCJjb25jYXQiLCJzZXRUaW1lb3V0Iiwidmlld3BvcnRzU3JvbGxlciIsImFjdGl2ZVNlY3Rpb24iLCJmaWx0ZXIiLCJuZXh0U2VjdGlvbiIsIm5leHQiLCJwcmV2U2VjdGlvbiIsInByZXYiLCJpbmRleCIsImRlbHRhWSIsIm9yaWdpbmFsRXZlbnQiLCJzY3JvbGxlciIsInRhZ05hbWUiLCJ0YXJnZXQiLCJ0b0xvd2VyQ2FzZSIsInVzZXJUeXBpbmdJbklucHV0cyIsImtleUNvZGUiLCJyZXFTZWN0aW9uIiwic3dpcGUiLCJldmVudCIsImRpcmVjdGlvbiIsInNjcm9sbERpcmVjdGlvbiIsInBsYXllciIsImR1cmF0aW9uQ29udHJvbCIsInNvdW5kQ29udHJvbCIsImludGVydmFsSWQiLCJwbGF5U3RvcCIsInBsYXlCdXR0b25zIiwiaSIsIm1pY0NvbnRyb2wiLCJzb3VuZE9mIiwic3RvcEludGVydmFsIiwic2V0VmlkZW9EdXJhdGlvbiIsIm1pbiIsInZhbHVlIiwiY2hhbmdlU291bmRWb2x1bWUiLCJtYXgiLCJwbGF5SW1nIiwiZHVyYXRpb24iLCJwYXVzZWQiLCJwbGF5Iiwic2V0SW50ZXJ2YWwiLCJ1cGRhdGVEdXJhdGlvbiIsInBhdXNlIiwiY2xlYXJJbnRlcnZhbCIsImN1cnJlbnRUaW1lIiwidm9sdW1lIiwic291bmRMZXZlbCIsIm1vYmlsZURldGVjdGlvbiIsIk1vYmlsZSIsInNsaWRlciIsImJ4U2xpZGVyIiwicGFnZXIiLCJ0b3VjaEVuYWJsZWQiLCJnb1RvUHJldlNsaWRlIiwiZ29Ub05leHRTbGlkZSIsImZpbmRCbG9ja0J5QWxpYXMiLCJhbGlhcyIsIm5keCIsIml0ZW1Ub1Nob3ciLCJjdXJJdGVtIl0sIm1hcHBpbmdzIjoiOztBQUFBLElBQUFBLFFBQUEsR0FBQSxTQUFBQSxRQUFBQSxDQUFBQyxJQUFBLEVBQUE7RUFDQSxJQUFBQyxTQUFBLEdBQUFELElBQUEsQ0FBQUUsT0FBQSxDQUFBLGFBQUEsQ0FBQTtFQUNBLElBQUFDLFlBQUEsR0FBQUYsU0FBQSxDQUFBRyxJQUFBLENBQUEsZ0JBQUEsQ0FBQTtFQUNBLElBQUFDLFNBQUEsR0FBQUYsWUFBQSxD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QUEsQ0FBQSxxQkFBQSxDQUFBO0VBRUFzTSxVQUFBLENBQUFoTSxRQUFBLENBQUEsUUFBQSxDQUFBLENBQUErSCxRQUFBLENBQUEsQ0FBQSxDQUFBM0gsV0FBQSxDQUFBLFFBQUEsQ0FBQTtFQUNBNkwsT0FBQSxDQUFBak0sUUFBQSxDQUFBLFFBQUEsQ0FBQSxDQUFBK0gsUUFBQSxDQUFBLENBQUEsQ0FBQTNILFdBQUEsQ0FBQSxRQUFBLENBQUE7QUFDQSxDQUFBLENBQUEiLCJmaWxlIjoibWFpbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBvcGVuSXRlbSA9IGl0ZW0gPT4ge1xyXG4gIGNvbnN0IGNvbnRhaW5lciA9IGl0ZW0uY2xvc2VzdChcIi50ZWFtX19pdGVtXCIpO1xyXG4gIGNvbnN0IGNvbnRlbnRCbG9jayA9IGNvbnRhaW5lci5maW5kKFwiLnRlYW1fX2NvbnRlbnRcIik7XHJcbiAgY29uc3QgdGV4dEJsb2NrID0gY29udGVudEJsb2NrLmZpbmQoXCIudGVhbV9fY29udGVudC1ibG9ja1wiKTtcclxuICBjb25zdCByZXFIZWlnaHQgPSB0ZXh0QmxvY2suaGVpZ2h0KCk7XHJcblxyXG4gIGNvbnRhaW5lci5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcclxuICBjb250ZW50QmxvY2suaGVpZ2h0KHJlcUhlaWdodCk7XHJcbn07XHJcblxyXG5jb25zdCBjbG9zZUV2ZXJ5SXRlbSA9IGNvbnRhaW5lciA9PiB7XHJcbiAgY29uc3QgaXRlbXMgPSBjb250YWluZXIuZmluZChcIi50ZWFtX19jb250ZW50XCIpO1xyXG4gIGNvbnN0IGl0ZW1Db250YWluZXIgPSBjb250YWluZXIuZmluZChcIi50ZWFtX19pdGVtXCIpO1xyXG4gIFxyXG4gIGl0ZW1Db250YWluZXIucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgaXRlbXMuaGVpZ2h0KDApO1xyXG59O1xyXG5cclxuJChcIi50ZWFtX190aXRsZVwiKS5jbGljayhlID0+IHtcclxuICBjb25zdCAkdGhpcyA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcclxuICBjb25zdCBjb250YWluZXIgPSAkdGhpcy5jbG9zZXN0KFwiLnRlYW1cIik7XHJcbiAgY29uc3QgZWxlbUNvbnRhaW5lciA9ICR0aGlzLmNsb3Nlc3QoXCIudGVhbV9faXRlbVwiKTtcclxuXHJcbiAgaWYgKGVsZW1Db250YWluZXIuaGFzQ2xhc3MoXCJhY3RpdmVcIikpIHtcclxuICAgIGNsb3NlRXZlcnlJdGVtKGNvbnRhaW5lcik7XHJcbiAgfSBlbHNlIHtcclxuICAgIGNsb3NlRXZlcnlJdGVtKGNvbnRhaW5lcik7XHJcbiAgICBvcGVuSXRlbSgkdGhpcyk7XHJcbiAgfVxyXG59KTsiLCJsZXQgYnVyZ2VyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJ1cmdlcicpO1xyXG5sZXQgb3ZlcmxheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5vdmVybGF5Jyk7XHJcbmxldCBib2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpO1xyXG5cclxubGV0IGxpbmtzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm92ZXJsYXktbWVudV9fbGluaycpO1sxLCAyLCAzLCA0LCA1LCA2LCA3XVxyXG5cclxubGlua3MuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkge1xyXG4gIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0b2dnbGVNZW51KTtcclxufSlcclxuXHJcbmZ1bmN0aW9uIHRvZ2dsZU1lbnUoKSB7XHJcbiAgYnVyZ2VyLmNsYXNzTGlzdC50b2dnbGUoJ2J1cmdlci0tYWN0aXZlJyk7XHJcbiAgb3ZlcmxheS5jbGFzc0xpc3QudG9nZ2xlKCdvdmVybGF5LS1hY3RpdmUnKTtcclxuICBib2R5LmNsYXNzTGlzdC50b2dnbGUoJ2JvZHktLWFjdGl2ZS1tZW51Jyk7XHJcbn1cclxuXHJcbmJ1cmdlci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRvZ2dsZU1lbnUpO1xyXG5cclxuXHJcblxyXG4iLCJsZXQgbXlNYXA7XHJcblxyXG5jb25zdCBpbml0ID0gKCkgPT4ge1xyXG4gIG15TWFwID0gbmV3IHltYXBzLk1hcChcIm1hcFwiLCB7XHJcbiAgICBjZW50ZXI6IFs1NS43NSwgMzcuNjFdLFxyXG4gICAgem9vbTogMTQsXHJcbiAgICBjb250cm9sczogW11cclxuICB9KTtcclxuXHJcbiAgY29uc3QgY29vcmRzID0gW1xyXG4gICAgWzU1Ljc1MjAwNCwgMzcuNTc2MTMzXSxcclxuICAgIFs1NS43NTE3MzAsIDM3LjYwMzU4MV0sXHJcbiAgICBbNTUuNzU1NjU1LCAzNy42MTkyMzRdXHJcbiAgXTtcclxuXHJcbiAgY29uc3QgbXlDb2xsZWN0aW9uID0gbmV3IHltYXBzLkdlb09iamVjdENvbGxlY3Rpb24oe30sIHtcclxuICAgIGRyYWdnYWJsZTogZmFsc2UsXHJcbiAgICBpY29uTGF5b3V0OiAnZGVmYXVsdCNpbWFnZScsXHJcbiAgICBpY29uSW1hZ2VIcmVmOiBcIi4vaW1nL21hcmtlci5zdmdcIixcclxuICAgIGljb25JbWFnZVNpemU6IFs0NCwgNTRdLFxyXG4gICAgaWNvbkltYWdlT2Zmc2V0OiBbLTMsIC00Ml1cclxuICB9KTtcclxuXHJcbiAgY29vcmRzLmZvckVhY2goY29vcmQgPT4ge1xyXG4gICAgbXlDb2xsZWN0aW9uLmFkZChuZXcgeW1hcHMuUGxhY2VtYXJrKGNvb3JkKSk7XHJcbiAgfSk7XHJcbiAgbXlNYXAuZ2VvT2JqZWN0cy5hZGQobXlDb2xsZWN0aW9uKTtcclxufVxyXG5cclxueW1hcHMucmVhZHkoaW5pdCk7IiwiY29uc3QgbWVhc3VyZVdpZHRoID0gKGl0ZW0pID0+IHtcclxuICBsZXQgcmVxSXRlbVdpZHRoID0gMDtcclxuICBjb25zdCBzY3JlZW5XaWR0aCA9ICQod2luZG93KS53aWR0aCgpO1xyXG4gIGNvbnN0IGNvbnRhaW5lciA9IGl0ZW0uY2xvc2VzdChcIi5wcm9kdWN0cy1tZW51X19saXN0XCIpO1xyXG4gIGNvbnN0IHRpdGxlc0Jsb2NrcyA9IGNvbnRhaW5lci5maW5kKFwiLnByb2R1Y3RzLW1lbnVfX3RpdGxlXCIpO1xyXG4gIGNvbnN0IHRpdGxlc1dpZHRoID0gdGl0bGVzQmxvY2tzLndpZHRoKCkgKiB0aXRsZXNCbG9ja3MubGVuZ3RoO1xyXG5cclxuICBjb25zdCB0ZXh0Q29udGFpbmVyID0gaXRlbS5maW5kKFwiLnByb2R1Y3RzLW1lbnVfX2NvbnRlbnRcIik7XHJcbiAgY29uc3QgcGFkZGluZ0xlZnQgPSBwYXJzZUludCh0ZXh0Q29udGFpbmVyLmNzcyhcInBhZGRpbmctbGVmdFwiKSk7XHJcbiAgY29uc3QgcGFkZGluZ1JpZ2h0ID0gcGFyc2VJbnQodGV4dENvbnRhaW5lci5jc3MoXCJwYWRkaW5nLXJpZ2h0XCIpKTtcclxuXHJcbiAgY29uc3QgaXNNb2JpbGUgPSB3aW5kb3cubWF0Y2hNZWRpYShcIihtYXgtd2lkdGg6IDc2N3B4KVwiKS5tYXRjaGVzO1xyXG5cclxuICBpZiAoaXNNb2JpbGUpIHtcclxuICAgIHJlcUl0ZW1XaWR0aCA9IHNjcmVlbldpZHRoIC0gdGl0bGVzV2lkdGg7XHJcbiAgfSBlbHNlIHtcclxuICAgIHJlcUl0ZW1XaWR0aCA9IDUyNDtcclxuICB9XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBjb250YWluZXJXaWR0aDogcmVxSXRlbVdpZHRoLFxyXG4gICAgdGV4dENvbnRhaW5lcldpZHRoOiByZXFJdGVtV2lkdGggLSBwYWRkaW5nUmlnaHQgLSBwYWRkaW5nTGVmdFxyXG4gIH1cclxufTtcclxuXHJcbmNvbnN0IGNsb3NlRXZlcnlJdGVtSW5Db250YWluZXIgPSAoY29udGFpbmVyKSA9PiB7XHJcbiAgY29uc3QgaXRlbXMgPSBjb250YWluZXIuZmluZChcIi5wcm9kdWN0cy1tZW51X19pdGVtXCIpO1xyXG4gIGNvbnN0IGNvbnRlbnQgPSBjb250YWluZXIuZmluZChcIi5wcm9kdWN0cy1tZW51X19jb250ZW50XCIpO1xyXG5cclxuICBpdGVtcy5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcclxuICBjb250ZW50LndpZHRoKDApO1xyXG59O1xyXG5cclxuY29uc3Qgb3Blbkl0ZW1zID0gKGl0ZW0pID0+IHtcclxuICBjb25zdCBoaWRkZW5Db250ZW50ID0gaXRlbS5maW5kKFwiLnByb2R1Y3RzLW1lbnVfX2NvbnRlbnRcIik7XHJcbiAgY29uc3QgcmVxV2lkdGggPSBtZWFzdXJlV2lkdGgoaXRlbSk7XHJcbiAgY29uc3QgdGV4dEJsb2NrID0gaXRlbS5maW5kKFwiLnByb2R1Y3RzLW1lbnVfX2NvbnRlbnRcIik7XHJcbiAgXHJcbiAgaXRlbS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcclxuICBoaWRkZW5Db250ZW50LndpZHRoKHJlcVdpZHRoLmNvbnRhaW5lcik7XHJcbiAgdGV4dEJsb2NrLndpZHRoKHJlcVdpZHRoLnRleHRDb250YWluZXJXaWR0aCk7XHJcbn07XHJcblxyXG4kKFwiLnByb2R1Y3RzLW1lbnVfX3RpdGxlXCIpLm9uKFwiY2xpY2tcIiwgZSA9PiB7XHJcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICBjb25zdCAkdGhpcyA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcclxuICBjb25zdCBpdGVtID0gJHRoaXMuY2xvc2VzdChcIi5wcm9kdWN0cy1tZW51X19pdGVtXCIpO1xyXG4gIGNvbnN0IGl0ZW1PcGVuZWQgPSBpdGVtLmhhc0NsYXNzKFwiYWN0aXZlXCIpO1xyXG4gIGNvbnN0IGNvbnRhaW5lciA9ICR0aGlzLmNsb3Nlc3QoXCIucHJvZHVjdHMtbWVudV9fbGlzdFwiKTtcclxuXHJcbiAgaWYgKGl0ZW1PcGVuZWQpIHtcclxuICAgIGNsb3NlRXZlcnlJdGVtSW5Db250YWluZXIoaXRlbSk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGNsb3NlRXZlcnlJdGVtSW5Db250YWluZXIoY29udGFpbmVyKTtcclxuICAgIG9wZW5JdGVtcyhpdGVtKTtcclxuICB9XHJcbn0pO1xyXG5cclxuXHJcbiIsImNvbnN0IHZhbGlkYXRlRmllbGRzID0gKGZvcm0sIGZpZWxkc0FycmF5KSA9PiB7XHJcblxyXG4gIGZpZWxkc0FycmF5LmZvckVhY2goKGZpZWxkKSA9PiB7XHJcbiAgICBmaWVsZC5yZW1vdmVDbGFzcyhcImlucHV0LWVycm9yXCIpO1xyXG4gICAgaWYgKGZpZWxkLnZhbCgpLnRyaW0oKSA9PT0gXCJcIikge1xyXG4gICAgICBmaWVsZC5hZGRDbGFzcyhcImlucHV0LWVycm9yXCIpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICBjb25zdCBlcnJvckZpZWxkcyA9IGZvcm0uZmluZChcIi5pbnB1dC1lcnJvclwiKTtcclxuXHJcbiAgcmV0dXJuIGVycm9yRmllbGRzLmxlbmd0aCA9PT0gMDtcclxuXHJcbn1cclxuXHJcbiQoXCIuZm9ybVwiKS5zdWJtaXQoZSA9PiB7XHJcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICBjb25zdCBmb3JtID0gJChlLmN1cnJlbnRUYXJnZXQpO1xyXG4gIGNvbnN0IG5hbWUgPSBmb3JtLmZpbmQoXCJbbmFtZT0nbmFtZSddXCIpO1xyXG4gIGNvbnN0IHBob25lID0gZm9ybS5maW5kKFwiW25hbWU9J3Bob25lJ11cIik7XHJcbiAgY29uc3QgY29tbWVudCA9IGZvcm0uZmluZChcIltuYW1lPSdjb21tZW50J11cIik7XHJcbiAgY29uc3QgdG8gPSBmb3JtLmZpbmQoXCJbbmFtZT0ndG8nXVwiKTtcclxuXHJcbiAgY29uc3QgbW9kYWwgPSAkKFwiI21vZGFsXCIpO1xyXG4gIGNvbnN0IGNvbnRlbnQgPSBtb2RhbC5maW5kKFwiLm1vZGFsX19jb250ZW50XCIpO1xyXG5cclxuICBtb2RhbC5yZW1vdmVDbGFzcyhcImVycm9yLW1vZGFsXCIpO1xyXG5cclxuICBjb25zdCBpc1ZhbGlkID0gdmFsaWRhdGVGaWVsZHMoZm9ybSwgW25hbWUsIHBob25lLCBjb21tZW50LCB0b10pO1xyXG5cclxuICBpZiAoaXNWYWxpZCkge1xyXG4gICAgY29uc3QgcmVxdWVzdCA9ICQuYWpheCh7XHJcbiAgICAgIHVybDogXCJodHRwczovL3dlYmRldi1hcGkubG9mdHNjaG9vbC5jb20vc2VuZG1haWxcIixcclxuICAgICAgbWV0aG9kOiBcInBvc3RcIixcclxuICAgICAgZGF0YToge1xyXG4gICAgICAgIG5hbWU6IG5hbWUudmFsKCksXHJcbiAgICAgICAgcGhvbmU6IHBob25lLnZhbCgpLFxyXG4gICAgICAgIGNvbW1lbnQ6IGNvbW1lbnQudmFsKCksXHJcbiAgICAgICAgdG86IHRvLnZhbCgpXHJcbiAgICAgIH0sXHJcbiAgICB9KTtcclxuICAgIHJlcXVlc3QuZG9uZShkYXRhID0+IHtcclxuICAgICAgY29uc3QgbWVzc2FnZSA9IFwiQ9C+0L7QsdGJ0LXQvdC40LUg0L7RgtC/0YDQsNCy0LvQtdC90L5cIjtcclxuICAgICAgY29udGVudC50ZXh0KG1lc3NhZ2UpO1xyXG4gICAgfSk7XHJcbiAgICByZXF1ZXN0LmZhaWwoZGF0YSA9PiB7XHJcbiAgICAgIGNvbnN0IG1lc3NhZ2UgPSBcItCf0YDQvtC40LfQvtGI0LvQsCDQvtGI0LjQsdC60LBcIjtcclxuICAgICAgY29udGVudC50ZXh0KG1lc3NhZ2UpO1xyXG4gICAgICBtb2RhbC5hZGRDbGFzcyhcImVycm9yLW1vZGFsXCIpO1xyXG4gICAgfSk7XHJcbiAgICByZXF1ZXN0LmFsd2F5cygoKSA9PiB7XHJcbiAgICAgIG5ldyBGYW5jeWJveChcclxuICAgICAgICBbXHJcbiAgICAgICAgICB7XHJcbiAgICAgICAgICAgIHNyYzogXCIjbW9kYWxcIixcclxuICAgICAgICAgICAgdHlwZTogXCJpbmxpbmVcIixcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgXSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICBjbG9zZUJ1dHRvbjogZmFsc2VcclxuICAgICAgICB9XHJcbiAgICAgICk7XHJcbiAgICB9KTtcclxuICB9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmb3JtXCIpLnJlc2V0KCk7XHJcbn0pO1xyXG5cclxuXHJcbiQoXCIuYXBwLXN1Ym1pdC1idG5cIikuY2xpY2soZSA9PiB7XHJcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICBGYW5jeWJveC5jbG9zZSgpO1xyXG59KTtcclxuXHJcbmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZm9ybVwiKS5yZXNldCgpOyIsImNvbnN0IHNlY3Rpb25zID0gJChcInNlY3Rpb25cIik7XHJcbmNvbnN0IGRpc3BsYXkgPSAkKFwiLm1haW5jb250ZW50XCIpO1xyXG5jb25zdCBzaWRlTWVudSA9ICQoXCIuZml4ZWQtbWVudVwiKTtcclxuY29uc3QgbWVudUl0ZW1zID0gc2lkZU1lbnUuZmluZChcIi5maXhlZC1tZW51X19pdGVtXCIpO1xyXG5cclxuY29uc3QgbW9iaWxlRGV0ZWN0ID0gbmV3IE1vYmlsZURldGVjdCh3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudCk7XHJcbmNvbnN0IGlzTW9iaWxlID0gbW9iaWxlRGV0ZWN0Lm1vYmlsZSgpO1xyXG5cclxubGV0IGluU2Nyb2xsID0gZmFsc2U7XHJcblxyXG5zZWN0aW9ucy5maXJzdCgpLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xyXG5cclxuY29uc3QgY291bnRTZWN0aW9uUG9zaXRpb24gPSBzZWN0aW9uRXEgPT4ge1xyXG4gIGNvbnN0IHBvc2l0aW9uID0gc2VjdGlvbkVxICogLTEwMDtcclxuXHJcbiAgaWYgKGlzTmFOKHBvc2l0aW9uKSkge1xyXG4gICAgY29uc29sZS5lcnJvcihcItCf0LXRgNC10LTQsNC90L4g0L3QtSDQstC10YDQvdC+0LUg0LfQvdCw0YfQtdC90LjQtSDQsiBjb3VudFNlY3Rpb25Qb3NpdGlvblwiKTtcclxuICAgIHJldHVybiAwO1xyXG5cclxuICB9XHJcblxyXG4gIHJldHVybiBwb3NpdGlvbjtcclxufTtcclxuXHJcbmNvbnN0IGNoYW5nZU1lbnVUaGVtZUZvclNlY3Rpb24gPSBzZWN0aW9uRXEgPT4ge1xyXG4gIGNvbnN0IGN1cnJlbnRTZWN0aW9uID0gc2VjdGlvbnMuZXEoc2VjdGlvbkVxKTtcclxuICBjb25zdCBtZW51VGhlbWUgPSBjdXJyZW50U2VjdGlvbi5hdHRyKFwiZGF0YS1zaWRlbWVudS10aGVtZVwiKTtcclxuICBjb25zdCBhY3RpdmVDbGFzcyA9IFwiZml4ZWQtbWVudS0tYmxhY2tcIjtcclxuXHJcbiAgaWYgKG1lbnVUaGVtZSA9PT0gXCJibGFja1wiKSB7XHJcbiAgICBzaWRlTWVudS5hZGRDbGFzcyhhY3RpdmVDbGFzcyk7XHJcbiAgfSBlbHNlIHtcclxuICAgIHNpZGVNZW51LnJlbW92ZUNsYXNzKGFjdGl2ZUNsYXNzKTtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCByZXNldEFjdGl2ZUNsYXNzRm9ySXRlbSA9IChpdGVtcywgaXRlbUVxLCBhY3RpdmVDbGFzcykgPT4ge1xyXG4gIGl0ZW1zLmVxKGl0ZW1FcSkuYWRkQ2xhc3MoYWN0aXZlQ2xhc3MpLnNpYmxpbmdzKCkucmVtb3ZlQ2xhc3MoYWN0aXZlQ2xhc3MpO1xyXG59O1xyXG5cclxuY29uc3QgcGVyZm9ybVRyYW5zaXRpb24gPSBzZWN0aW9uRXEgPT4ge1xyXG4gIGlmIChpblNjcm9sbCkgcmV0dXJuO1xyXG5cclxuICBjb25zdCB0cmFuc2l0aW9uT3ZlciA9IDEwMDA7XHJcbiAgY29uc3QgbW91c2VJbmVydGlhT3ZlciA9IDMwMDtcclxuXHJcbiAgaW5TY3JvbGwgPSB0cnVlO1xyXG5cclxuICBjb25zdCBwb3NpdGlvbiA9IGNvdW50U2VjdGlvblBvc2l0aW9uKHNlY3Rpb25FcSk7XHJcblxyXG4gIGRpc3BsYXkuY3NzKHtcclxuICAgIHRyYW5zZm9ybTogYHRyYW5zbGF0ZVkoJHtwb3NpdGlvbn0lKWBcclxuICB9KTtcclxuXHJcbiAgcmVzZXRBY3RpdmVDbGFzc0Zvckl0ZW0oc2VjdGlvbnMsIHNlY3Rpb25FcSwgXCJhY3RpdmVcIik7XHJcblxyXG5cclxuXHJcbiAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICBpblNjcm9sbCA9IGZhbHNlO1xyXG4gICAgY2hhbmdlTWVudVRoZW1lRm9yU2VjdGlvbihzZWN0aW9uRXEpO1xyXG4gICAgcmVzZXRBY3RpdmVDbGFzc0Zvckl0ZW0obWVudUl0ZW1zLCBzZWN0aW9uRXEsIFwiZml4ZWQtbWVudV9faXRlbS0tYWN0aXZlXCIpXHJcbiAgfSwgdHJhbnNpdGlvbk92ZXIgKyBtb3VzZUluZXJ0aWFPdmVyKTtcclxufTtcclxuXHJcbmNvbnN0IHZpZXdwb3J0c1Nyb2xsZXIgPSAoKSA9PiB7XHJcbiAgY29uc3QgYWN0aXZlU2VjdGlvbiA9IHNlY3Rpb25zLmZpbHRlcihcIi5hY3RpdmVcIik7XHJcbiAgY29uc3QgbmV4dFNlY3Rpb24gPSBhY3RpdmVTZWN0aW9uLm5leHQoKTtcclxuICBjb25zdCBwcmV2U2VjdGlvbiA9IGFjdGl2ZVNlY3Rpb24ucHJldigpO1xyXG5cclxuICByZXR1cm4ge1xyXG4gICAgbmV4dCgpIHtcclxuICAgICAgaWYgKG5leHRTZWN0aW9uLmxlbmd0aCkge1xyXG4gICAgICAgIHBlcmZvcm1UcmFuc2l0aW9uKG5leHRTZWN0aW9uLmluZGV4KCkpO1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgcHJldigpIHtcclxuICAgICAgaWYgKHByZXZTZWN0aW9uLmxlbmd0aCkge1xyXG4gICAgICAgIHBlcmZvcm1UcmFuc2l0aW9uKHByZXZTZWN0aW9uLmluZGV4KCkpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59O1xyXG5cclxuJCh3aW5kb3cpLm9uKFwid2hlZWxcIiwgZSA9PiB7XHJcbiAgY29uc3QgZGVsdGFZID0gZS5vcmlnaW5hbEV2ZW50LmRlbHRhWTtcclxuICBjb25zdCBzY3JvbGxlciA9IHZpZXdwb3J0c1Nyb2xsZXIoKTtcclxuICBjb25zdCBhY3RpdmVTZWN0aW9uID0gc2VjdGlvbnMuZmlsdGVyKFwiLmFjdGl2ZVwiKTtcclxuXHJcbiAgaWYgKGRlbHRhWSA+IDApIHtcclxuICAgIGlmIChhY3RpdmVTZWN0aW9uLmhhc0NsYXNzKFwibWFwLS1zZWN0aW9uXCIpKSB7XHJcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHNjcm9sbGVyLm5leHQoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGlmIChkZWx0YVkgPCAwKSB7XHJcbiAgICBpZiAoYWN0aXZlU2VjdGlvbi5oYXNDbGFzcyhcIm1hcC0tc2VjdGlvblwiKSkge1xyXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBzY3JvbGxlci5wcmV2KCk7XHJcbiAgICB9XHJcbiAgfVxyXG59KTtcclxuXHJcbiQod2luZG93KS5vbihcImtleWRvd25cIiwgZSA9PiB7XHJcblxyXG4gIGNvbnN0IHRhZ05hbWUgPSBlLnRhcmdldC50YWdOYW1lLnRvTG93ZXJDYXNlKCk7XHJcbiAgY29uc3QgdXNlclR5cGluZ0luSW5wdXRzID0gdGFnTmFtZSA9PT0gXCJpbnB1dFwiIHx8IHRhZ05hbWUgPT09IFwidGV4dGFyZWFcIjtcclxuICBjb25zdCBzY3JvbGxlciA9IHZpZXdwb3J0c1Nyb2xsZXIoKTtcclxuXHJcbiAgaWYgKHVzZXJUeXBpbmdJbklucHV0cykgcmV0dXJuO1xyXG4gIHN3aXRjaCAoZS5rZXlDb2RlKSB7XHJcbiAgICBjYXNlIDM4OlxyXG4gICAgICBzY3JvbGxlci5wcmV2KCk7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgY2FzZSA0MDpcclxuICAgICAgc2Nyb2xsZXIubmV4dCgpO1xyXG4gICAgICBicmVhaztcclxuICB9XHJcbn0pO1xyXG5cclxuJChcIi53cmFwcGVyXCIpLm9uKFwidG91Y2htb3ZlXCIsIGUgPT4gZS5wcmV2ZW50RGVmYXVsdCgpKTtcclxuXHJcbiQoXCJbZGF0YS1zY3JvbGwtdG9cIikuY2xpY2soZSA9PiB7XHJcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICBjb25zdCAkdGhpcyA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcclxuICBjb25zdCB0YXJnZXQgPSAkdGhpcy5hdHRyKFwiZGF0YS1zY3JvbGwtdG9cIik7XHJcbiAgY29uc3QgcmVxU2VjdGlvbiA9ICQoYFtkYXRhLXNlY3Rpb24taWQ9XCIke3RhcmdldH1cIl1gKTtcclxuXHJcbiAgcGVyZm9ybVRyYW5zaXRpb24ocmVxU2VjdGlvbi5pbmRleCgpKTtcclxufSk7XHJcblxyXG5pZiAoaXNNb2JpbGUpIHtcclxuICAvL2h0dHBzOi8vZ2l0aHViLmNvbS9tYXR0YnJ5c29uL1RvdWNoU3dpcGUtSnF1ZXJ5LVBsdWdpblxyXG4gICQoXCJib2R5XCIpLnN3aXBlKHtcclxuICAgIHN3aXBlOiBmdW5jdGlvbiAoXHJcbiAgICAgIGV2ZW50LFxyXG4gICAgICBkaXJlY3Rpb25cclxuICAgICkge1xyXG4gICAgICBjb25zdCBzY3JvbGxlciA9IHZpZXdwb3J0c1Nyb2xsZXIoKTtcclxuICAgICAgbGV0IHNjcm9sbERpcmVjdGlvbiA9IFwiXCI7XHJcblxyXG4gICAgICBpZiAoZGlyZWN0aW9uID09PSBcInVwXCIpIHNjcm9sbERpcmVjdGlvbiA9IFwibmV4dFwiXHJcbiAgICAgIGlmIChkaXJlY3Rpb24gPT09IFwiZG93blwiKSBzY3JvbGxEaXJlY3Rpb24gPSBcInByZXZcIlxyXG4gICAgICBzY3JvbGxlcltzY3JvbGxEaXJlY3Rpb25dKCk7XHJcbiAgICB9LFxyXG4gIH0pO1xyXG59IiwibGV0IHBsYXllcjtcclxubGV0IGR1cmF0aW9uQ29udHJvbDtcclxubGV0IHNvdW5kQ29udHJvbDtcclxubGV0IGludGVydmFsSWQ7XHJcblxyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgZSA9PiB7XHJcbiAgcGxheWVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BsYXllcicpO1xyXG5cclxuICAvLyDQstC10YjQsNC10Lwg0L7QsdGA0LDQsdC+0YLRh9C40Log0YHQvtCx0YvRgtC40Y8g0L3QsCDQvdCwINGC0LXQsyB2aWRlb1xyXG4gIHBsYXllci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHBsYXlTdG9wKTtcclxuXHJcbiAgLy8g0L3QsNGF0L7QtNC40Lwg0LLRgdC1INC60L3QvtC/0LrQuCBwbGF5INC4INC90LDQstC10YjQuNCy0LDQtdC8INGH0LXRgNC10Lcg0YbQuNC60Lsg0L3QsCDQutCw0LbQtNGD0Y4g0L7QsdGA0LDQsdC+0YLRh9C40LpcclxuICBsZXQgcGxheUJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucGxheScpO1xyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcGxheUJ1dHRvbnMubGVuZ3RoOyBpKyspIHtcclxuICAgIHBsYXlCdXR0b25zW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgcGxheVN0b3ApO1xyXG4gIH1cclxuXHJcbiAgLy8g0L7QsdGA0LDQsdC+0YLRh9C40Log0YHQvtCx0YvRgtC40Lkg0L3QsCDQutC90L7Qv9C60YMg0LTQuNC90LDQvNC40LpcclxuICBsZXQgbWljQ29udHJvbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtaWNMZXZlbCcpO1xyXG4gIG1pY0NvbnRyb2wuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzb3VuZE9mKTtcclxuXHJcbiAgLy8g0L7QsdGA0LDQsdC+0YLRh9C40LrQuCDRgdC+0LHRi9GC0LjRjyDQtNC70Y8g0L/QvtC70LfRg9C90LrQsCDQv9GA0L7QtNC+0LvQttC40YLQtdC70YzQvdC+0YHRgtC4INCy0LjQtNC10L5cclxuICBkdXJhdGlvbkNvbnRyb2wgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZHVyYXRpb25MZXZlbCcpO1xyXG4gIGR1cmF0aW9uQ29udHJvbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBzdG9wSW50ZXJ2YWwpO1xyXG4gIGR1cmF0aW9uQ29udHJvbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHNldFZpZGVvRHVyYXRpb24pO1xyXG5cclxuICBkdXJhdGlvbkNvbnRyb2wubWluID0gMDtcclxuICBkdXJhdGlvbkNvbnRyb2wudmFsdWUgPSAwO1xyXG5cclxuICAvLyDQvtCx0YDQsNCx0L7RgtGH0LjQutC4INGB0L7QsdGL0YLQuNGPINC00LvRjyDQv9C+0LvQt9GD0L3QutCwINCz0YDQvtC80L7QutGB0YLQuFxyXG4gIHNvdW5kQ29udHJvbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd2b2x1bWVMZXZlbCcpO1xyXG4gIHNvdW5kQ29udHJvbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNoYW5nZVNvdW5kVm9sdW1lKTtcclxuICBzb3VuZENvbnRyb2wuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIGNoYW5nZVNvdW5kVm9sdW1lKTtcclxuXHJcbiAgLy8g0LfQsNC00LDQtdC8INC80LDQutGB0LjQvNCw0LvRjNC90L7QtSDQuCDQvNC40L3QuNC80LDQu9GM0L3QvtC1INC30L3QsNGH0LXQvdC40LUgdm9sdW1lXHJcbiAgc291bmRDb250cm9sLm1pbiA9IDA7XHJcbiAgc291bmRDb250cm9sLm1heCA9IDEwO1xyXG5cclxuICBzb3VuZENvbnRyb2wudmFsdWUgPSBzb3VuZENvbnRyb2wubWF4O1xyXG5cclxufSlcclxuXHJcbmZ1bmN0aW9uIHBsYXlTdG9wKCkge1xyXG4gIC8vINC90LDRhdC+0LbRgyDQvNC+0Y4g0LrQvdC+0L/QutGDINGBINC60LDRgNGC0LjQvdC60L7QuSBQTEFZINC4INC/0L7QutCw0LfRi9Cy0LDRjiDQuNC70Lgg0YHQutGA0YvQstCw0Y4g0LXQtVxyXG4gIGxldCBwbGF5SW1nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBsYXllcl9fcGxheScpO1xyXG4gIHBsYXlJbWcuY2xhc3NMaXN0LnRvZ2dsZSgncGxheWVyX19wbGF5LS1hY3RpdmUnKTtcclxuXHJcbiAgLy8g0L/RgNC40YHQstCw0LjQstCw0LXQvCDQv9C+0LvQt9GD0L3QutGDINC/0YDQvtC+0LvQttC40YLQtdC70YzQvdC+0YHRgtC4INCy0LjQtNC10L4g0LzQsNC60YHQuNC80LDQu9GM0L3QvtC1INC30L3QsNGH0LXQvdC40LUgXHJcbiAgLy8g0YDQsNCy0L3QvtC1INC/0YDQvtC00L7Qu9C20LjRgtC10LvRjNC90L7RgdGC0Lgg0L3QsNGI0LXQs9C+INCy0LjQtNC10L5cclxuICBkdXJhdGlvbkNvbnRyb2wubWF4ID0gcGxheWVyLmR1cmF0aW9uO1xyXG5cclxuICAvLyDQv9GA0L7QstC10YDRj9C10Lwg0YHRgtC+0LjRgiDQu9C4INCy0LjQtNC10L4g0L3QsCDQv9Cw0YPQt9C1LCDQtdGB0LvQuCDQtNCwINGC0L4g0L/RgNC+0LTQvtC70LbQsNC10Lwg0LLQvtGB0L/RgNC+0LjQt9Cy0LXQtNC10L3QuNC1XHJcbiAgaWYgKHBsYXllci5wYXVzZWQpIHtcclxuICAgIC8vINC30LDQv9GD0YHQutCw0LXQvCDQstC40LTQtdC+XHJcbiAgICBwbGF5ZXIucGxheSgpO1xyXG4gICAgLy8g0L7QsdC90L7QstC70Y/QtdC8INC/0L7Qu9C30YPQvdC+0Log0LrQsNC20LTRi9C1IDE1INC80LjQu9C4INGB0LXQutGD0L3QtCDRhNGD0L3QutGG0LjQtdC5IHVwZGF0ZUR1cmF0aW9uXHJcbiAgICBpbnRlcnZhbElkID0gc2V0SW50ZXJ2YWwodXBkYXRlRHVyYXRpb24sIDEwMDAgLyA2Nik7XHJcbiAgfSBlbHNlIHtcclxuICAgIC8vINC/0L7QvdC40LzQsNC10Lwg0YfRgtC+INCy0LjQtNC10L4g0L3QtSDRgdGC0L7QuNGCINC90LAg0L/QsNGD0LfQtSzQuCDRgdGC0LDQstC40Lwg0LXQs9C+INC90LAg0L/QsNGD0LfRg1xyXG4gICAgcGxheWVyLnBhdXNlKCk7XHJcbiAgICBjbGVhckludGVydmFsKGludGVydmFsSWQpO1xyXG4gIH1cclxufVxyXG5cclxuLy8g0L7QsdC90L7QstC70Y/QtdGCINC/0L7Qt9C40YbQuNGOINC/0L7Qu9C30YPQvdC60LAg0L/RgNC+0LTQvtC70LbQuNGC0LXQu9GM0L3QvtGB0YLQuCDQstC40LTQtdC+XHJcbmZ1bmN0aW9uIHVwZGF0ZUR1cmF0aW9uKCkge1xyXG4gIGR1cmF0aW9uQ29udHJvbC52YWx1ZSA9IHBsYXllci5jdXJyZW50VGltZTtcclxufVxyXG5cclxuZnVuY3Rpb24gc3RvcEludGVydmFsKCkge1xyXG4gIHBsYXllci5wYXVzZSgpO1xyXG4gIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxJZCk7XHJcbn1cclxuXHJcbi8vINCg0LXQsNC70LjQt9GD0LXRgiDQstC+0LfQvNC+0LbQvdC+0YHRgtGMINC/0LXRgNC10LzQvtGC0LrQuCDQstC40LTQtdC+XHJcbmZ1bmN0aW9uIHNldFZpZGVvRHVyYXRpb24oKSB7XHJcbiAgaWYgKHBsYXllci5wYXVzZWQpIHtcclxuICAgIHBsYXllci5wbGF5KCk7XHJcbiAgfSBlbHNlIHtcclxuICAgIHBsYXllci5wYXVzZSgpO1xyXG4gIH1cclxuXHJcbiAgcGxheWVyLmN1cnJlbnRUaW1lID0gZHVyYXRpb25Db250cm9sLnZhbHVlO1xyXG4gIC8vINC+0LHQvdC+0LLQu9GP0LXQvCDQv9C+0LvQt9GD0L3QvtC6INC60LDQttC00YvQtSAxNSDQvNC40LvQuCDRgdC10LrRg9C90LQg0YTRg9C90LrRhtC40LXQuSB1cGRhdGVEdXJhdGlvblxyXG4gIGludGVydmFsSWQgPSBzZXRJbnRlcnZhbCh1cGRhdGVEdXJhdGlvbiwgMTAwMCAvIDY2KTtcclxufVxyXG5cclxuLy8g0YPQv9GA0LDQstC70LXQvdC40LUg0LfQstGD0LrQvtC8INCy0LjQtNC10L5cclxuZnVuY3Rpb24gY2hhbmdlU291bmRWb2x1bWUoKSB7XHJcbiAgLy8g0YHQstC+0LnRgdGC0L7QsiB2aWRlby52b2x1bWUg0LzQvtC20LXRgiDQuNC80LXRgtGMINC30L3QsNGH0LXQvdC4INC+0YIgMCDQtNC+IDEgXHJcbiAgLy8g0L/QvtGN0YLQvtC80YMg0LTQtdC70LjQvCDQstGB0LUg0L3QsCAxMCAsINGH0YLQviDQsdGLINCx0L7Qu9C10LUg0YfQtdGC0LrQviDQutC+0L3RgtGA0L7Qu9C40YDQvtCy0LDRgtGMINC30L3QsNGH0LXQvdC40LVcclxuXHJcbiAgcGxheWVyLnZvbHVtZSA9IHNvdW5kQ29udHJvbC52YWx1ZSAvIDEwO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzb3VuZE9mKCkge1xyXG4gIC8vINC00LXQu9Cw0LXQvCDQv9GA0L7QstC10YDQutGDINGD0YDQvtCy0L3RjyDQs9GA0L7QvNC60L7RgdGC0LggXHJcbiAgLy8g0LXRgdC70Lgg0YMg0L3QsNGI0LXQs9C+INCy0LjQtNC10L4g0LXRgdGC0Ywg0LfQstGD0LogLCDRgtC+INC80Ysg0LXQs9C+INCy0YvQutC70Y7Rh9Cw0LXQvCBcclxuICAvLyDQv9GA0LXQtNCy0LDRgNC40YLQtdC70YzQvdC+INC30LDQv9C+0LzQvdC40LIg0YLQtdC60YPRidGD0Y4g0L/QvtC30LjRhtC40Y4g0LPRgNC+0LzQutC+0YHRgtC4INCyINC/0LXRgNC10LzQtdC90L3Rg9GOIHNvdW5kTGV2ZWxcclxuXHJcbiAgaWYgKHBsYXllci52b2x1bWUgPT09IDApIHtcclxuICAgIHBsYXllci52b2x1bWUgPSBzb3VuZExldmVsO1xyXG4gICAgc291bmRDb250cm9sLnZhbHVlID0gc291bmRMZXZlbCAqIDEwO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBzb3VuZExldmVsID0gcGxheWVyLnZvbHVtZTtcclxuICAgIHBsYXllci52b2x1bWUgPSAwO1xyXG4gICAgc291bmRDb250cm9sLnZhbHVlID0gMDtcclxuICB9XHJcbn1cclxuIiwiY29uc3QgbW9iaWxlRGV0ZWN0aW9uID0gbmV3IE1vYmlsZURldGVjdCh3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudCk7XHJcbmNvbnN0IE1vYmlsZSA9IG1vYmlsZURldGVjdGlvbi5tb2JpbGUoKTtcclxuXHJcbmNvbnN0IHNsaWRlciA9ICQoXCIuc2xpZGVyX19saXN0XCIpLmJ4U2xpZGVyKHtcclxuICBwYWdlcjogZmFsc2UsXHJcbiAgY29udHJvbHM6IGZhbHNlLFxyXG4gIHRvdWNoRW5hYmxlZDogZmFsc2VcclxufSk7XHJcblxyXG5pZiAoTW9iaWxlKSB7XHJcbiAgc2xpZGVyLmJ4U2xpZGVyKHtcclxuICAgIHRvdWNoRW5hYmxlZDogdHJ1ZVxyXG4gIH0pO1xyXG59XHJcblxyXG4kKFwiLnNsaWRlcl9fYXJyb3ctLWxlZnRcIikuY2xpY2soZSA9PiB7XHJcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gIHNsaWRlci5nb1RvUHJldlNsaWRlKCk7XHJcbn0pO1xyXG5cclxuJChcIi5zbGlkZXJfX2Fycm93LS1yaWdodFwiKS5jbGljayhlID0+IHtcclxuICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgc2xpZGVyLmdvVG9OZXh0U2xpZGUoKTtcclxufSkiLCJjb25zdCBmaW5kQmxvY2tCeUFsaWFzID0gKGFsaWFzKSA9PiB7XHJcbiAgcmV0dXJuICQoXCIucmV2aWV3c19faXRlbVwiKS5maWx0ZXIoKG5keCwgaXRlbSkgPT4ge1xyXG4gICAgcmV0dXJuICQoaXRlbSkuYXR0cihcImRhdGEtbGlua2VkLXdpdGhcIikgPT09IGFsaWFzO1xyXG4gIH0pO1xyXG59O1xyXG5cclxuJChcIi5pbnRlcmFjdGl2ZS1hdmF0YXJfX3N3aXRjaGVyLWxpbmtcIikuY2xpY2soZSA9PiB7XHJcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICBjb25zdCAkdGhpcyA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcclxuICBjb25zdCB0YXJnZXQgPSAkdGhpcy5hdHRyKFwiZGF0YS1vcGVuXCIpO1xyXG4gIGNvbnN0IGl0ZW1Ub1Nob3cgPSBmaW5kQmxvY2tCeUFsaWFzKHRhcmdldCk7XHJcbiAgY29uc3QgY3VySXRlbSA9ICR0aGlzLmNsb3Nlc3QoXCIuaW50ZXJhY3RpdmUtYXZhdGFyXCIpO1xyXG5cclxuICBpdGVtVG9TaG93LmFkZENsYXNzKFwiYWN0aXZlXCIpLnNpYmxpbmdzKCkucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgY3VySXRlbS5hZGRDbGFzcyhcImFjdGl2ZVwiKS5zaWJsaW5ncygpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xyXG59KTsgIl19
