"use strict";

var openItem = function openItem(item) {
  var container = item.closest(".team__item");
  var contentBlock = container.find(".team__content");
  var textBlock = contentBlock.find(".team__content-block");
  var reqHeight = textBlock.height();
  container.addClass("active");
  contentBlock.height(reqHeight);
};
var closeEveryItem = function closeEveryItem(container) {
  var items = container.find(".team__content");
  var itemContainer = container.find(".team__item");
  itemContainer.removeClass("active");
  items.height(0);
};
$(".team__title").click(function (e) {
  var $this = $(e.currentTarget);
  var container = $this.closest(".team");
  var elemContainer = $this.closest(".team__item");
  if (elemContainer.hasClass("active")) {
    closeEveryItem(container);
  } else {
    closeEveryItem(container);
    openItem($this);
  }
});
;
var burger = document.querySelector('.burger');
var overlay = document.querySelector('.overlay');
var body = document.querySelector('body');
var links = document.querySelectorAll('.overlay-menu__link');
[1, 2, 3, 4, 5, 6, 7];
links.forEach(function (element) {
  element.addEventListener('click', toggleMenu);
});
function toggleMenu() {
  burger.classList.toggle('burger--active');
  overlay.classList.toggle('overlay--active');
  body.classList.toggle('body--active-menu');
}
burger.addEventListener('click', toggleMenu);
;
var myMap;
var init = function init() {
  myMap = new ymaps.Map("map", {
    center: [55.75, 37.61],
    zoom: 14,
    controls: []
  });
  var coords = [[55.752004, 37.576133], [55.751730, 37.603581], [55.755655, 37.619234]];
  var myCollection = new ymaps.GeoObjectCollection({}, {
    draggable: false,
    iconLayout: 'default#image',
    iconImageHref: "./img/marker.svg",
    iconImageSize: [44, 54],
    iconImageOffset: [-3, -42]
  });
  coords.forEach(function (coord) {
    myCollection.add(new ymaps.Placemark(coord));
  });
  myMap.geoObjects.add(myCollection);
};
ymaps.ready(init);
;
var measureWidth = function measureWidth(item) {
  var reqItemWidth = 0;
  var screenWidth = $(window).width();
  var container = item.closest(".products-menu__list");
  var titlesBlocks = container.find(".products-menu__title");
  var titlesWidth = titlesBlocks.width() * titlesBlocks.length;
  var textContainer = item.find(".products-menu__content");
  var paddingLeft = parseInt(textContainer.css("padding-left"));
  var paddingRight = parseInt(textContainer.css("padding-right"));
  var isMobile = window.matchMedia("(max-width: 767px)").matches;
  if (isMobile) {
    reqItemWidth = screenWidth - titlesWidth;
  } else {
    reqItemWidth = 524;
  }
  return {
    containerWidth: reqItemWidth,
    textContainerWidth: reqItemWidth - paddingRight - paddingLeft
  };
};
var closeEveryItemInContainer = function closeEveryItemInContainer(container) {
  var items = container.find(".products-menu__item");
  var content = container.find(".products-menu__content");
  items.removeClass("active");
  content.width(0);
};
var openItems = function openItems(item) {
  var hiddenContent = item.find(".products-menu__content");
  var reqWidth = measureWidth(item);
  var textBlock = item.find(".products-menu__content");
  item.addClass("active");
  hiddenContent.width(reqWidth.container);
  textBlock.width(reqWidth.textContainerWidth);
};
$(".products-menu__title").on("click", function (e) {
  e.preventDefault();
  var $this = $(e.currentTarget);
  var item = $this.closest(".products-menu__item");
  var itemOpened = item.hasClass("active");
  var container = $this.closest(".products-menu__list");
  if (itemOpened) {
    closeEveryItemInContainer(item);
  } else {
    closeEveryItemInContainer(container);
    openItems(item);
  }
});
;
var validateFields = function validateFields(form, fieldsArray) {
  fieldsArray.forEach(function (field) {
    field.removeClass("input-error");
    if (field.val().trim() === "") {
      field.addClass("input-error");
    }
  });
  var errorFields = form.find(".input-error");
  return errorFields.length === 0;
};
$(".form").submit(function (e) {
  e.preventDefault();
  var form = $(e.currentTarget);
  var name = form.find("[name='name']");
  var phone = form.find("[name='phone']");
  var comment = form.find("[name='comment']");
  var to = form.find("[name='to']");
  var modal = $("#modal");
  var content = modal.find(".modal__content");
  modal.removeClass("error-modal");
  var isValid = validateFields(form, [name, phone, comment, to]);
  if (isValid) {
    var request = $.ajax({
      url: "https://webdev-api.loftschool.com/sendmail",
      method: "post",
      data: {
        name: name.val(),
        phone: phone.val(),
        comment: comment.val(),
        to: to.val()
      }
    });
    request.done(function (data) {
      var message = "Cообщение отправлено";
      content.text(message);
    });
    request.fail(function (data) {
      var message = "Произошла ошибка";
      content.text(message);
      modal.addClass("error-modal");
    });
    request.always(function () {
      new Fancybox([{
        src: "#modal",
        type: "inline"
      }], {
        closeButton: false
      });
    });
  }
  document.getElementById("form").reset();
});
$(".app-submit-btn").click(function (e) {
  e.preventDefault();
  Fancybox.close();
});
document.getElementById("form").reset();
;
var sections = $("section");
var display = $(".maincontent");
var sideMenu = $(".fixed-menu");
var menuItems = sideMenu.find(".fixed-menu__item");
var mobileDetect = new MobileDetect(window.navigator.userAgent);
var isMobile = mobileDetect.mobile();
var inScroll = false;
sections.first().addClass("active");
var countSectionPosition = function countSectionPosition(sectionEq) {
  var position = sectionEq * -100;
  if (isNaN(position)) {
    console.error("Передано не верное значение в countSectionPosition");
    return 0;
  }
  return position;
};
var changeMenuThemeForSection = function changeMenuThemeForSection(sectionEq) {
  var currentSection = sections.eq(sectionEq);
  var menuTheme = currentSection.attr("data-sidemenu-theme");
  var activeClass = "fixed-menu--black";
  if (menuTheme === "black") {
    sideMenu.addClass(activeClass);
  } else {
    sideMenu.removeClass(activeClass);
  }
};
var resetActiveClassForItem = function resetActiveClassForItem(items, itemEq, activeClass) {
  items.eq(itemEq).addClass(activeClass).siblings().removeClass(activeClass);
};
var performTransition = function performTransition(sectionEq) {
  if (inScroll) return;
  var transitionOver = 1000;
  var mouseInertiaOver = 300;
  inScroll = true;
  var position = countSectionPosition(sectionEq);
  display.css({
    transform: "translateY(".concat(position, "%)")
  });
  resetActiveClassForItem(sections, sectionEq, "active");
  setTimeout(function () {
    inScroll = false;
    changeMenuThemeForSection(sectionEq);
    resetActiveClassForItem(menuItems, sectionEq, "fixed-menu__item--active");
  }, transitionOver + mouseInertiaOver);
};
var viewportsSroller = function viewportsSroller() {
  var activeSection = sections.filter(".active");
  var nextSection = activeSection.next();
  var prevSection = activeSection.prev();
  return {
    next: function next() {
      if (nextSection.length) {
        performTransition(nextSection.index());
      }
    },
    prev: function prev() {
      if (prevSection.length) {
        performTransition(prevSection.index());
      }
    }
  };
};
$(window).on("wheel", function (e) {
  var deltaY = e.originalEvent.deltaY;
  var scroller = viewportsSroller();
  if (deltaY > 0) {
    scroller.next();
  }
  if (deltaY < 0) {
    scroller.prev();
  }
});
$(window).on("keydown", function (e) {
  var tagName = e.target.tagName.toLowerCase();
  var userTypingInInputs = tagName === "input" || tagName === "textarea";
  var scroller = viewportsSroller();
  if (userTypingInInputs) return;
  switch (e.keyCode) {
    case 38:
      scroller.prev();
      break;
    case 40:
      scroller.next();
      break;
  }
});
$(".wrapper").on("touchmove", function (e) {
  return e.preventDefault();
});
$("[data-scroll-to").click(function (e) {
  e.preventDefault();
  var $this = $(e.currentTarget);
  var target = $this.attr("data-scroll-to");
  var reqSection = $("[data-section-id=\"".concat(target, "\"]"));
  performTransition(reqSection.index());
});
if (isMobile) {
  //https://github.com/mattbryson/TouchSwipe-Jquery-Plugin
  $("body").swipe({
    swipe: function swipe(event, direction) {
      var scroller = viewportsSroller();
      var scrollDirection = "";
      if (direction === "up") scrollDirection = "next";
      if (direction === "down") scrollDirection = "prev";
      scroller[scrollDirection]();
    }
  });
}
;
var player;
var durationControl;
var soundControl;
var intervalId;
document.addEventListener('DOMContentLoaded', function (e) {
  player = document.getElementById('player');

  // вешаем обработчик события на на тег video
  player.addEventListener('click', playStop);

  // находим все кнопки play и навешиваем через цикл на каждую обработчик
  var playButtons = document.querySelectorAll('.play');
  for (var i = 0; i < playButtons.length; i++) {
    playButtons[i].addEventListener('click', playStop);
  }

  // обработчик событий на кнопку динамик
  var micControl = document.getElementById('micLevel');
  micControl.addEventListener('click', soundOf);

  // обработчики события для ползунка продолжительности видео
  durationControl = document.getElementById('durationLevel');
  durationControl.addEventListener('mousedown', stopInterval);
  durationControl.addEventListener('click', setVideoDuration);
  durationControl.min = 0;
  durationControl.value = 0;

  // обработчики события для ползунка громоксти
  soundControl = document.getElementById('volumeLevel');
  soundControl.addEventListener('click', changeSoundVolume);
  soundControl.addEventListener('mouseup', changeSoundVolume);

  // задаем максимальное и минимальное значение volume
  soundControl.min = 0;
  soundControl.max = 10;
  soundControl.value = soundControl.max;
});
function playStop() {
  // нахожу мою кнопку с картинкой PLAY и показываю или скрываю ее
  var playImg = document.querySelector('.player__play');
  playImg.classList.toggle('player__play--active');

  // присваиваем ползунку проолжительности видео максимальное значение 
  // равное продолжительности нашего видео
  durationControl.max = player.duration;

  // проверяем стоит ли видео на паузе, если да то продолжаем воспроизведение
  if (player.paused) {
    // запускаем видео
    player.play();
    // обновляем ползунок каждые 15 мили секунд функцией updateDuration
    intervalId = setInterval(updateDuration, 1000 / 66);
  } else {
    // понимаем что видео не стоит на паузе,и ставим его на паузу
    player.pause();
    clearInterval(intervalId);
  }
}

// обновляет позицию ползунка продолжительности видео
function updateDuration() {
  durationControl.value = player.currentTime;
}
function stopInterval() {
  player.pause();
  clearInterval(intervalId);
}

// Реализует возможность перемотки видео
function setVideoDuration() {
  if (player.paused) {
    player.play();
  } else {
    player.pause();
  }
  player.currentTime = durationControl.value;
  // обновляем ползунок каждые 15 мили секунд функцией updateDuration
  intervalId = setInterval(updateDuration, 1000 / 66);
}

// управление звуком видео
function changeSoundVolume() {
  // свойстов video.volume может иметь значени от 0 до 1 
  // поэтому делим все на 10 , что бы более четко контролировать значение

  player.volume = soundControl.value / 10;
}
function soundOf() {
  // делаем проверку уровня громкости 
  // если у нашего видео есть звук , то мы его выключаем 
  // предварительно запомнив текущую позицию громкости в переменную soundLevel

  if (player.volume === 0) {
    player.volume = soundLevel;
    soundControl.value = soundLevel * 10;
  } else {
    soundLevel = player.volume;
    player.volume = 0;
    soundControl.value = 0;
  }
}
;
var mobileDetection = new MobileDetect(window.navigator.userAgent);
var Mobile = mobileDetection.mobile();
var slider = $(".slider__list").bxSlider({
  pager: false,
  controls: false,
  touchEnabled: false
});
if (Mobile) {
  slider.bxSlider({
    touchEnabled: true
  });
}
$(".slider__arrow--left").click(function (e) {
  e.preventDefault();
  slider.goToPrevSlide();
});
$(".slider__arrow--right").click(function (e) {
  e.preventDefault();
  slider.goToNextSlide();
});
var findBlockByAlias = function findBlockByAlias(alias) {
  return $(".reviews__item").filter(function (ndx, item) {
    return $(item).attr("data-linked-with") === alias;
  });
};
$(".interactive-avatar__switcher-link").click(function (e) {
  e.preventDefault();
  var $this = $(e.currentTarget);
  var target = $this.attr("data-open");
  var itemToShow = findBlockByAlias(target);
  var curItem = $this.closest(".interactive-avatar");
  itemToShow.addClass("active").siblings().removeClass("active");
  curItem.addClass("active").siblings().removeClass("active");
});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFjY28uanMiLCJidXJnZXIuanMiLCJtYXAuanMiLCJtZW51LWFjY28uanMiLCJtb2RhbC5qcyIsIm9vcC5qcyIsInBsYXllci5qcyIsInNsaWRlci5qcyIsInRhYnMuanMiXSwibmFtZXMiOlsib3Blbkl0ZW0iLCJpdGVtIiwiY29udGFpbmVyIiwiY2xvc2VzdCIsImNvbnRlbnRCbG9jayIsImZpbmQiLCJ0ZXh0QmxvY2siLCJyZXFIZWlnaHQiLCJoZWlnaHQiLCJhZGRDbGFzcyIsImNsb3NlRXZlcnlJdGVtIiwiaXRlbXMiLCJpdGVtQ29udGFpbmVyIiwicmVtb3ZlQ2xhc3MiLCIkIiwiY2xpY2siLCJlIiwiJHRoaXMiLCJjdXJyZW50VGFyZ2V0IiwiZWxlbUNvbnRhaW5lciIsImhhc0NsYXNzIiwiYnVyZ2VyIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwib3ZlcmxheSIsImJvZHkiLCJsaW5rcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwiZWxlbWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJ0b2dnbGVNZW51IiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwibXlNYXAiLCJpbml0IiwieW1hcHMiLCJNYXAiLCJjZW50ZXIiLCJ6b29tIiwiY29udHJvbHMiLCJjb29yZHMiLCJteUNvbGxlY3Rpb24iLCJHZW9PYmplY3RDb2xsZWN0aW9uIiwiZHJhZ2dhYmxlIiwiaWNvbkxheW91dCIsImljb25JbWFnZUhyZWYiLCJpY29uSW1hZ2VTaXplIiwiaWNvbkltYWdlT2Zmc2V0IiwiY29vcmQiLCJhZGQiLCJQbGFjZW1hcmsiLCJnZW9PYmplY3RzIiwicmVhZHkiLCJtZWFzdXJlV2lkdGgiLCJyZXFJdGVtV2lkdGgiLCJzY3JlZW5XaWR0aCIsIndpbmRvdyIsIndpZHRoIiwidGl0bGVzQmxvY2tzIiwidGl0bGVzV2lkdGgiLCJsZW5ndGgiLCJ0ZXh0Q29udGFpbmVyIiwicGFkZGluZ0xlZnQiLCJwYXJzZUludCIsImNzcyIsInBhZGRpbmdSaWdodCIsImlzTW9iaWxlIiwibWF0Y2hNZWRpYSIsIm1hdGNoZXMiLCJjb250YWluZXJXaWR0aCIsInRleHRDb250YWluZXJXaWR0aCIsImNsb3NlRXZlcnlJdGVtSW5Db250YWluZXIiLCJjb250ZW50Iiwib3Blbkl0ZW1zIiwiaGlkZGVuQ29udGVudCIsInJlcVdpZHRoIiwib24iLCJwcmV2ZW50RGVmYXVsdCIsIml0ZW1PcGVuZWQiLCJ2YWxpZGF0ZUZpZWxkcyIsImZvcm0iLCJmaWVsZHNBcnJheSIsImZpZWxkIiwidmFsIiwidHJpbSIsImVycm9yRmllbGRzIiwic3VibWl0IiwibmFtZSIsInBob25lIiwiY29tbWVudCIsInRvIiwibW9kYWwiLCJpc1ZhbGlkIiwicmVxdWVzdCIsImFqYXgiLCJ1cmwiLCJtZXRob2QiLCJkYXRhIiwiZG9uZSIsIm1lc3NhZ2UiLCJ0ZXh0IiwiZmFpbCIsImFsd2F5cyIsIkZhbmN5Ym94Iiwic3JjIiwidHlwZSIsImNsb3NlQnV0dG9uIiwiZ2V0RWxlbWVudEJ5SWQiLCJyZXNldCIsImNsb3NlIiwic2VjdGlvbnMiLCJkaXNwbGF5Iiwic2lkZU1lbnUiLCJtZW51SXRlbXMiLCJtb2JpbGVEZXRlY3QiLCJNb2JpbGVEZXRlY3QiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJtb2JpbGUiLCJpblNjcm9sbCIsImZpcnN0IiwiY291bnRTZWN0aW9uUG9zaXRpb24iLCJzZWN0aW9uRXEiLCJwb3NpdGlvbiIsImlzTmFOIiwiY29uc29sZSIsImVycm9yIiwiY2hhbmdlTWVudVRoZW1lRm9yU2VjdGlvbiIsImN1cnJlbnRTZWN0aW9uIiwiZXEiLCJtZW51VGhlbWUiLCJhdHRyIiwiYWN0aXZlQ2xhc3MiLCJyZXNldEFjdGl2ZUNsYXNzRm9ySXRlbSIsIml0ZW1FcSIsInNpYmxpbmdzIiwicGVyZm9ybVRyYW5zaXRpb24iLCJ0cmFuc2l0aW9uT3ZlciIsIm1vdXNlSW5lcnRpYU92ZXIiLCJ0cmFuc2Zvcm0iLCJjb25jYXQiLCJzZXRUaW1lb3V0Iiwidmlld3BvcnRzU3JvbGxlciIsImFjdGl2ZVNlY3Rpb24iLCJmaWx0ZXIiLCJuZXh0U2VjdGlvbiIsIm5leHQiLCJwcmV2U2VjdGlvbiIsInByZXYiLCJpbmRleCIsImRlbHRhWSIsIm9yaWdpbmFsRXZlbnQiLCJzY3JvbGxlciIsInRhZ05hbWUiLCJ0YXJnZXQiLCJ0b0xvd2VyQ2FzZSIsInVzZXJUeXBpbmdJbklucHV0cyIsImtleUNvZGUiLCJyZXFTZWN0aW9uIiwic3dpcGUiLCJldmVudCIsImRpcmVjdGlvbiIsInNjcm9sbERpcmVjdGlvbiIsInBsYXllciIsImR1cmF0aW9uQ29udHJvbCIsInNvdW5kQ29udHJvbCIsImludGVydmFsSWQiLCJwbGF5U3RvcCIsInBsYXlCdXR0b25zIiwiaSIsIm1pY0NvbnRyb2wiLCJzb3VuZE9mIiwic3RvcEludGVydmFsIiwic2V0VmlkZW9EdXJhdGlvbiIsIm1pbiIsInZhbHVlIiwiY2hhbmdlU291bmRWb2x1bWUiLCJtYXgiLCJwbGF5SW1nIiwiZHVyYXRpb24iLCJwYXVzZWQiLCJwbGF5Iiwic2V0SW50ZXJ2YWwiLCJ1cGRhdGVEdXJhdGlvbiIsInBhdXNlIiwiY2xlYXJJbnRlcnZhbCIsImN1cnJlbnRUaW1lIiwidm9sdW1lIiwic291bmRMZXZlbCIsIm1vYmlsZURldGVjdGlvbiIsIk1vYmlsZSIsInNsaWRlciIsImJ4U2xpZGVyIiwicGFnZXIiLCJ0b3VjaEVuYWJsZWQiLCJnb1RvUHJldlNsaWRlIiwiZ29Ub05leHRTbGlkZSIsImZpbmRCbG9ja0J5QWxpYXMiLCJhbGlhcyIsIm5keCIsIml0ZW1Ub1Nob3ciLCJjdXJJdGVtIl0sIm1hcHBpbmdzIjoiOztBQUFBLElBQUFBLFFBQUEsR0FBQSxTQUFBQSxRQUFBQSxDQUFBQyxJQUFBLEVBQUE7RUFDQSxJQUFBQyxTQUFBLEdBQUFELElBQUEsQ0FBQUUsT0FBQSxDQUFBLGFBQUEsQ0FBQTtFQUNBLElBQUFDLFlBQUEsR0FBQUYsU0FBQSxDQUFBRyxJQUFBLENBQUEsZ0JBQUEsQ0FBQTtFQUNBLElBQUFDLFNBQUEsR0FBQUYsWUFBQSxD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ZW5JdGVtID0gaXRlbSA9PiB7XHJcbiAgY29uc3QgY29udGFpbmVyID0gaXRlbS5jbG9zZXN0KFwiLnRlYW1fX2l0ZW1cIik7XHJcbiAgY29uc3QgY29udGVudEJsb2NrID0gY29udGFpbmVyLmZpbmQoXCIudGVhbV9fY29udGVudFwiKTtcclxuICBjb25zdCB0ZXh0QmxvY2sgPSBjb250ZW50QmxvY2suZmluZChcIi50ZWFtX19jb250ZW50LWJsb2NrXCIpO1xyXG4gIGNvbnN0IHJlcUhlaWdodCA9IHRleHRCbG9jay5oZWlnaHQoKTtcclxuXHJcbiAgY29udGFpbmVyLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xyXG4gIGNvbnRlbnRCbG9jay5oZWlnaHQocmVxSGVpZ2h0KTtcclxufTtcclxuXHJcbmNvbnN0IGNsb3NlRXZlcnlJdGVtID0gY29udGFpbmVyID0+IHtcclxuICBjb25zdCBpdGVtcyA9IGNvbnRhaW5lci5maW5kKFwiLnRlYW1fX2NvbnRlbnRcIik7XHJcbiAgY29uc3QgaXRlbUNvbnRhaW5lciA9IGNvbnRhaW5lci5maW5kKFwiLnRlYW1fX2l0ZW1cIik7XHJcbiAgXHJcbiAgaXRlbUNvbnRhaW5lci5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcclxuICBpdGVtcy5oZWlnaHQoMCk7XHJcbn07XHJcblxyXG4kKFwiLnRlYW1fX3RpdGxlXCIpLmNsaWNrKGUgPT4ge1xyXG4gIGNvbnN0ICR0aGlzID0gJChlLmN1cnJlbnRUYXJnZXQpO1xyXG4gIGNvbnN0IGNvbnRhaW5lciA9ICR0aGlzLmNsb3Nlc3QoXCIudGVhbVwiKTtcclxuICBjb25zdCBlbGVtQ29udGFpbmVyID0gJHRoaXMuY2xvc2VzdChcIi50ZWFtX19pdGVtXCIpO1xyXG5cclxuICBpZiAoZWxlbUNvbnRhaW5lci5oYXNDbGFzcyhcImFjdGl2ZVwiKSkge1xyXG4gICAgY2xvc2VFdmVyeUl0ZW0oY29udGFpbmVyKTtcclxuICB9IGVsc2Uge1xyXG4gICAgY2xvc2VFdmVyeUl0ZW0oY29udGFpbmVyKTtcclxuICAgIG9wZW5JdGVtKCR0aGlzKTtcclxuICB9XHJcbn0pOyIsImxldCBidXJnZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYnVyZ2VyJyk7XHJcbmxldCBvdmVybGF5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm92ZXJsYXknKTtcclxubGV0IGJvZHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5Jyk7XHJcblxyXG5sZXQgbGlua3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcub3ZlcmxheS1tZW51X19saW5rJyk7WzEsIDIsIDMsIDQsIDUsIDYsIDddXHJcblxyXG5saW5rcy5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7XHJcbiAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRvZ2dsZU1lbnUpO1xyXG59KVxyXG5cclxuZnVuY3Rpb24gdG9nZ2xlTWVudSgpIHtcclxuICBidXJnZXIuY2xhc3NMaXN0LnRvZ2dsZSgnYnVyZ2VyLS1hY3RpdmUnKTtcclxuICBvdmVybGF5LmNsYXNzTGlzdC50b2dnbGUoJ292ZXJsYXktLWFjdGl2ZScpO1xyXG4gIGJvZHkuY2xhc3NMaXN0LnRvZ2dsZSgnYm9keS0tYWN0aXZlLW1lbnUnKTtcclxufVxyXG5cclxuYnVyZ2VyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdG9nZ2xlTWVudSk7XHJcblxyXG5cclxuXHJcbiIsImxldCBteU1hcDtcclxuXHJcbmNvbnN0IGluaXQgPSAoKSA9PiB7XHJcbiAgbXlNYXAgPSBuZXcgeW1hcHMuTWFwKFwibWFwXCIsIHtcclxuICAgIGNlbnRlcjogWzU1Ljc1LCAzNy42MV0sXHJcbiAgICB6b29tOiAxNCxcclxuICAgIGNvbnRyb2xzOiBbXVxyXG4gIH0pO1xyXG5cclxuICBjb25zdCBjb29yZHMgPSBbXHJcbiAgICBbNTUuNzUyMDA0LCAzNy41NzYxMzNdLFxyXG4gICAgWzU1Ljc1MTczMCwgMzcuNjAzNTgxXSxcclxuICAgIFs1NS43NTU2NTUsIDM3LjYxOTIzNF1cclxuICBdO1xyXG5cclxuICBjb25zdCBteUNvbGxlY3Rpb24gPSBuZXcgeW1hcHMuR2VvT2JqZWN0Q29sbGVjdGlvbih7fSwge1xyXG4gICAgZHJhZ2dhYmxlOiBmYWxzZSxcclxuICAgIGljb25MYXlvdXQ6ICdkZWZhdWx0I2ltYWdlJyxcclxuICAgIGljb25JbWFnZUhyZWY6IFwiLi9pbWcvbWFya2VyLnN2Z1wiLFxyXG4gICAgaWNvbkltYWdlU2l6ZTogWzQ0LCA1NF0sXHJcbiAgICBpY29uSW1hZ2VPZmZzZXQ6IFstMywgLTQyXVxyXG4gIH0pO1xyXG5cclxuICBjb29yZHMuZm9yRWFjaChjb29yZCA9PiB7XHJcbiAgICBteUNvbGxlY3Rpb24uYWRkKG5ldyB5bWFwcy5QbGFjZW1hcmsoY29vcmQpKTtcclxuICB9KTtcclxuICBteU1hcC5nZW9PYmplY3RzLmFkZChteUNvbGxlY3Rpb24pO1xyXG59XHJcblxyXG55bWFwcy5yZWFkeShpbml0KTsiLCJjb25zdCBtZWFzdXJlV2lkdGggPSAoaXRlbSkgPT4ge1xyXG4gIGxldCByZXFJdGVtV2lkdGggPSAwO1xyXG4gIGNvbnN0IHNjcmVlbldpZHRoID0gJCh3aW5kb3cpLndpZHRoKCk7XHJcbiAgY29uc3QgY29udGFpbmVyID0gaXRlbS5jbG9zZXN0KFwiLnByb2R1Y3RzLW1lbnVfX2xpc3RcIik7XHJcbiAgY29uc3QgdGl0bGVzQmxvY2tzID0gY29udGFpbmVyLmZpbmQoXCIucHJvZHVjdHMtbWVudV9fdGl0bGVcIik7XHJcbiAgY29uc3QgdGl0bGVzV2lkdGggPSB0aXRsZXNCbG9ja3Mud2lkdGgoKSAqIHRpdGxlc0Jsb2Nrcy5sZW5ndGg7XHJcblxyXG4gIGNvbnN0IHRleHRDb250YWluZXIgPSBpdGVtLmZpbmQoXCIucHJvZHVjdHMtbWVudV9fY29udGVudFwiKTtcclxuICBjb25zdCBwYWRkaW5nTGVmdCA9IHBhcnNlSW50KHRleHRDb250YWluZXIuY3NzKFwicGFkZGluZy1sZWZ0XCIpKTtcclxuICBjb25zdCBwYWRkaW5nUmlnaHQgPSBwYXJzZUludCh0ZXh0Q29udGFpbmVyLmNzcyhcInBhZGRpbmctcmlnaHRcIikpO1xyXG5cclxuICBjb25zdCBpc01vYmlsZSA9IHdpbmRvdy5tYXRjaE1lZGlhKFwiKG1heC13aWR0aDogNzY3cHgpXCIpLm1hdGNoZXM7XHJcblxyXG4gIGlmIChpc01vYmlsZSkge1xyXG4gICAgcmVxSXRlbVdpZHRoID0gc2NyZWVuV2lkdGggLSB0aXRsZXNXaWR0aDtcclxuICB9IGVsc2Uge1xyXG4gICAgcmVxSXRlbVdpZHRoID0gNTI0O1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIGNvbnRhaW5lcldpZHRoOiByZXFJdGVtV2lkdGgsXHJcbiAgICB0ZXh0Q29udGFpbmVyV2lkdGg6IHJlcUl0ZW1XaWR0aCAtIHBhZGRpbmdSaWdodCAtIHBhZGRpbmdMZWZ0XHJcbiAgfVxyXG59O1xyXG5cclxuY29uc3QgY2xvc2VFdmVyeUl0ZW1JbkNvbnRhaW5lciA9IChjb250YWluZXIpID0+IHtcclxuICBjb25zdCBpdGVtcyA9IGNvbnRhaW5lci5maW5kKFwiLnByb2R1Y3RzLW1lbnVfX2l0ZW1cIik7XHJcbiAgY29uc3QgY29udGVudCA9IGNvbnRhaW5lci5maW5kKFwiLnByb2R1Y3RzLW1lbnVfX2NvbnRlbnRcIik7XHJcblxyXG4gIGl0ZW1zLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xyXG4gIGNvbnRlbnQud2lkdGgoMCk7XHJcbn07XHJcblxyXG5jb25zdCBvcGVuSXRlbXMgPSAoaXRlbSkgPT4ge1xyXG4gIGNvbnN0IGhpZGRlbkNvbnRlbnQgPSBpdGVtLmZpbmQoXCIucHJvZHVjdHMtbWVudV9fY29udGVudFwiKTtcclxuICBjb25zdCByZXFXaWR0aCA9IG1lYXN1cmVXaWR0aChpdGVtKTtcclxuICBjb25zdCB0ZXh0QmxvY2sgPSBpdGVtLmZpbmQoXCIucHJvZHVjdHMtbWVudV9fY29udGVudFwiKTtcclxuICBcclxuICBpdGVtLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xyXG4gIGhpZGRlbkNvbnRlbnQud2lkdGgocmVxV2lkdGguY29udGFpbmVyKTtcclxuICB0ZXh0QmxvY2sud2lkdGgocmVxV2lkdGgudGV4dENvbnRhaW5lcldpZHRoKTtcclxufTtcclxuXHJcbiQoXCIucHJvZHVjdHMtbWVudV9fdGl0bGVcIikub24oXCJjbGlja1wiLCBlID0+IHtcclxuICBlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gIGNvbnN0ICR0aGlzID0gJChlLmN1cnJlbnRUYXJnZXQpO1xyXG4gIGNvbnN0IGl0ZW0gPSAkdGhpcy5jbG9zZXN0KFwiLnByb2R1Y3RzLW1lbnVfX2l0ZW1cIik7XHJcbiAgY29uc3QgaXRlbU9wZW5lZCA9IGl0ZW0uaGFzQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgY29uc3QgY29udGFpbmVyID0gJHRoaXMuY2xvc2VzdChcIi5wcm9kdWN0cy1tZW51X19saXN0XCIpO1xyXG5cclxuICBpZiAoaXRlbU9wZW5lZCkge1xyXG4gICAgY2xvc2VFdmVyeUl0ZW1JbkNvbnRhaW5lcihpdGVtKTtcclxuICB9IGVsc2Uge1xyXG4gICAgY2xvc2VFdmVyeUl0ZW1JbkNvbnRhaW5lcihjb250YWluZXIpO1xyXG4gICAgb3Blbkl0ZW1zKGl0ZW0pO1xyXG4gIH1cclxufSk7XHJcblxyXG5cclxuIiwiY29uc3QgdmFsaWRhdGVGaWVsZHMgPSAoZm9ybSwgZmllbGRzQXJyYXkpID0+IHtcclxuXHJcbiAgZmllbGRzQXJyYXkuZm9yRWFjaCgoZmllbGQpID0+IHtcclxuICAgIGZpZWxkLnJlbW92ZUNsYXNzKFwiaW5wdXQtZXJyb3JcIik7XHJcbiAgICBpZiAoZmllbGQudmFsKCkudHJpbSgpID09PSBcIlwiKSB7XHJcbiAgICAgIGZpZWxkLmFkZENsYXNzKFwiaW5wdXQtZXJyb3JcIik7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIGNvbnN0IGVycm9yRmllbGRzID0gZm9ybS5maW5kKFwiLmlucHV0LWVycm9yXCIpO1xyXG5cclxuICByZXR1cm4gZXJyb3JGaWVsZHMubGVuZ3RoID09PSAwO1xyXG5cclxufVxyXG5cclxuJChcIi5mb3JtXCIpLnN1Ym1pdChlID0+IHtcclxuICBlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gIGNvbnN0IGZvcm0gPSAkKGUuY3VycmVudFRhcmdldCk7XHJcbiAgY29uc3QgbmFtZSA9IGZvcm0uZmluZChcIltuYW1lPSduYW1lJ11cIik7XHJcbiAgY29uc3QgcGhvbmUgPSBmb3JtLmZpbmQoXCJbbmFtZT0ncGhvbmUnXVwiKTtcclxuICBjb25zdCBjb21tZW50ID0gZm9ybS5maW5kKFwiW25hbWU9J2NvbW1lbnQnXVwiKTtcclxuICBjb25zdCB0byA9IGZvcm0uZmluZChcIltuYW1lPSd0byddXCIpO1xyXG5cclxuICBjb25zdCBtb2RhbCA9ICQoXCIjbW9kYWxcIik7XHJcbiAgY29uc3QgY29udGVudCA9IG1vZGFsLmZpbmQoXCIubW9kYWxfX2NvbnRlbnRcIik7XHJcblxyXG4gIG1vZGFsLnJlbW92ZUNsYXNzKFwiZXJyb3ItbW9kYWxcIik7XHJcblxyXG4gIGNvbnN0IGlzVmFsaWQgPSB2YWxpZGF0ZUZpZWxkcyhmb3JtLCBbbmFtZSwgcGhvbmUsIGNvbW1lbnQsIHRvXSk7XHJcblxyXG4gIGlmIChpc1ZhbGlkKSB7XHJcbiAgICBjb25zdCByZXF1ZXN0ID0gJC5hamF4KHtcclxuICAgICAgdXJsOiBcImh0dHBzOi8vd2ViZGV2LWFwaS5sb2Z0c2Nob29sLmNvbS9zZW5kbWFpbFwiLFxyXG4gICAgICBtZXRob2Q6IFwicG9zdFwiLFxyXG4gICAgICBkYXRhOiB7XHJcbiAgICAgICAgbmFtZTogbmFtZS52YWwoKSxcclxuICAgICAgICBwaG9uZTogcGhvbmUudmFsKCksXHJcbiAgICAgICAgY29tbWVudDogY29tbWVudC52YWwoKSxcclxuICAgICAgICB0bzogdG8udmFsKClcclxuICAgICAgfSxcclxuICAgIH0pO1xyXG4gICAgcmVxdWVzdC5kb25lKGRhdGEgPT4ge1xyXG4gICAgICBjb25zdCBtZXNzYWdlID0gXCJD0L7QvtCx0YnQtdC90LjQtSDQvtGC0L/RgNCw0LLQu9C10L3QvlwiO1xyXG4gICAgICBjb250ZW50LnRleHQobWVzc2FnZSk7XHJcbiAgICB9KTtcclxuICAgIHJlcXVlc3QuZmFpbChkYXRhID0+IHtcclxuICAgICAgY29uc3QgbWVzc2FnZSA9IFwi0J/RgNC+0LjQt9C+0YjQu9CwINC+0YjQuNCx0LrQsFwiO1xyXG4gICAgICBjb250ZW50LnRleHQobWVzc2FnZSk7XHJcbiAgICAgIG1vZGFsLmFkZENsYXNzKFwiZXJyb3ItbW9kYWxcIik7XHJcbiAgICB9KTtcclxuICAgIHJlcXVlc3QuYWx3YXlzKCgpID0+IHtcclxuICAgICAgbmV3IEZhbmN5Ym94KFxyXG4gICAgICAgIFtcclxuICAgICAgICAgIHtcclxuICAgICAgICAgICAgc3JjOiBcIiNtb2RhbFwiLFxyXG4gICAgICAgICAgICB0eXBlOiBcImlubGluZVwiLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICBdLFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGNsb3NlQnV0dG9uOiBmYWxzZVxyXG4gICAgICAgIH1cclxuICAgICAgKTtcclxuICAgIH0pO1xyXG4gIH1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZvcm1cIikucmVzZXQoKTtcclxufSk7XHJcblxyXG5cclxuJChcIi5hcHAtc3VibWl0LWJ0blwiKS5jbGljayhlID0+IHtcclxuICBlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gIEZhbmN5Ym94LmNsb3NlKCk7XHJcbn0pO1xyXG5cclxuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmb3JtXCIpLnJlc2V0KCk7IiwiY29uc3Qgc2VjdGlvbnMgPSAkKFwic2VjdGlvblwiKTtcclxuY29uc3QgZGlzcGxheSA9ICQoXCIubWFpbmNvbnRlbnRcIik7XHJcbmNvbnN0IHNpZGVNZW51ID0gJChcIi5maXhlZC1tZW51XCIpO1xyXG5jb25zdCBtZW51SXRlbXMgPSBzaWRlTWVudS5maW5kKFwiLmZpeGVkLW1lbnVfX2l0ZW1cIik7XHJcblxyXG5jb25zdCBtb2JpbGVEZXRlY3QgPSBuZXcgTW9iaWxlRGV0ZWN0KHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50KTtcclxuY29uc3QgaXNNb2JpbGUgPSBtb2JpbGVEZXRlY3QubW9iaWxlKCk7XHJcblxyXG5sZXQgaW5TY3JvbGwgPSBmYWxzZTtcclxuXHJcbnNlY3Rpb25zLmZpcnN0KCkuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XHJcblxyXG5jb25zdCBjb3VudFNlY3Rpb25Qb3NpdGlvbiA9IHNlY3Rpb25FcSA9PiB7XHJcbiAgY29uc3QgcG9zaXRpb24gPSBzZWN0aW9uRXEgKiAtMTAwO1xyXG5cclxuICBpZiAoaXNOYU4ocG9zaXRpb24pKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKFwi0J/QtdGA0LXQtNCw0L3QviDQvdC1INCy0LXRgNC90L7QtSDQt9C90LDRh9C10L3QuNC1INCyIGNvdW50U2VjdGlvblBvc2l0aW9uXCIpO1xyXG4gICAgcmV0dXJuIDA7XHJcblxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHBvc2l0aW9uO1xyXG59O1xyXG5cclxuY29uc3QgY2hhbmdlTWVudVRoZW1lRm9yU2VjdGlvbiA9IHNlY3Rpb25FcSA9PiB7XHJcbiAgY29uc3QgY3VycmVudFNlY3Rpb24gPSBzZWN0aW9ucy5lcShzZWN0aW9uRXEpO1xyXG4gIGNvbnN0IG1lbnVUaGVtZSA9IGN1cnJlbnRTZWN0aW9uLmF0dHIoXCJkYXRhLXNpZGVtZW51LXRoZW1lXCIpO1xyXG4gIGNvbnN0IGFjdGl2ZUNsYXNzID0gXCJmaXhlZC1tZW51LS1ibGFja1wiO1xyXG5cclxuICBpZiAobWVudVRoZW1lID09PSBcImJsYWNrXCIpIHtcclxuICAgIHNpZGVNZW51LmFkZENsYXNzKGFjdGl2ZUNsYXNzKTtcclxuICB9IGVsc2Uge1xyXG4gICAgc2lkZU1lbnUucmVtb3ZlQ2xhc3MoYWN0aXZlQ2xhc3MpO1xyXG4gIH1cclxufTtcclxuXHJcbmNvbnN0IHJlc2V0QWN0aXZlQ2xhc3NGb3JJdGVtID0gKGl0ZW1zLCBpdGVtRXEsIGFjdGl2ZUNsYXNzKSA9PiB7XHJcbiAgaXRlbXMuZXEoaXRlbUVxKS5hZGRDbGFzcyhhY3RpdmVDbGFzcykuc2libGluZ3MoKS5yZW1vdmVDbGFzcyhhY3RpdmVDbGFzcyk7XHJcbn07XHJcblxyXG5jb25zdCBwZXJmb3JtVHJhbnNpdGlvbiA9IHNlY3Rpb25FcSA9PiB7XHJcbiAgaWYgKGluU2Nyb2xsKSByZXR1cm47XHJcblxyXG4gIGNvbnN0IHRyYW5zaXRpb25PdmVyID0gMTAwMDtcclxuICBjb25zdCBtb3VzZUluZXJ0aWFPdmVyID0gMzAwO1xyXG5cclxuICBpblNjcm9sbCA9IHRydWU7XHJcblxyXG4gIGNvbnN0IHBvc2l0aW9uID0gY291bnRTZWN0aW9uUG9zaXRpb24oc2VjdGlvbkVxKTtcclxuXHJcbiAgZGlzcGxheS5jc3Moe1xyXG4gICAgdHJhbnNmb3JtOiBgdHJhbnNsYXRlWSgke3Bvc2l0aW9ufSUpYFxyXG4gIH0pO1xyXG5cclxuICByZXNldEFjdGl2ZUNsYXNzRm9ySXRlbShzZWN0aW9ucywgc2VjdGlvbkVxLCBcImFjdGl2ZVwiKTtcclxuXHJcblxyXG5cclxuICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgIGluU2Nyb2xsID0gZmFsc2U7XHJcbiAgICBjaGFuZ2VNZW51VGhlbWVGb3JTZWN0aW9uKHNlY3Rpb25FcSk7XHJcbiAgICByZXNldEFjdGl2ZUNsYXNzRm9ySXRlbShtZW51SXRlbXMsIHNlY3Rpb25FcSwgXCJmaXhlZC1tZW51X19pdGVtLS1hY3RpdmVcIilcclxuICB9LCB0cmFuc2l0aW9uT3ZlciArIG1vdXNlSW5lcnRpYU92ZXIpO1xyXG59O1xyXG5cclxuY29uc3Qgdmlld3BvcnRzU3JvbGxlciA9ICgpID0+IHtcclxuICBjb25zdCBhY3RpdmVTZWN0aW9uID0gc2VjdGlvbnMuZmlsdGVyKFwiLmFjdGl2ZVwiKTtcclxuICBjb25zdCBuZXh0U2VjdGlvbiA9IGFjdGl2ZVNlY3Rpb24ubmV4dCgpO1xyXG4gIGNvbnN0IHByZXZTZWN0aW9uID0gYWN0aXZlU2VjdGlvbi5wcmV2KCk7XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBuZXh0KCkge1xyXG4gICAgICBpZiAobmV4dFNlY3Rpb24ubGVuZ3RoKSB7XHJcbiAgICAgICAgcGVyZm9ybVRyYW5zaXRpb24obmV4dFNlY3Rpb24uaW5kZXgoKSk7XHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBwcmV2KCkge1xyXG4gICAgICBpZiAocHJldlNlY3Rpb24ubGVuZ3RoKSB7XHJcbiAgICAgICAgcGVyZm9ybVRyYW5zaXRpb24ocHJldlNlY3Rpb24uaW5kZXgoKSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn07XHJcblxyXG4kKHdpbmRvdykub24oXCJ3aGVlbFwiLCBlID0+IHtcclxuICBjb25zdCBkZWx0YVkgPSBlLm9yaWdpbmFsRXZlbnQuZGVsdGFZO1xyXG4gIGNvbnN0IHNjcm9sbGVyID0gdmlld3BvcnRzU3JvbGxlcigpO1xyXG5cclxuICBpZiAoZGVsdGFZID4gMCkge1xyXG4gICAgc2Nyb2xsZXIubmV4dCgpO1xyXG4gIH1cclxuXHJcbiAgaWYgKGRlbHRhWSA8IDApIHtcclxuICAgIHNjcm9sbGVyLnByZXYoKTtcclxuICB9XHJcbn0pO1xyXG5cclxuJCh3aW5kb3cpLm9uKFwia2V5ZG93blwiLCBlID0+IHtcclxuXHJcbiAgY29uc3QgdGFnTmFtZSA9IGUudGFyZ2V0LnRhZ05hbWUudG9Mb3dlckNhc2UoKTtcclxuICBjb25zdCB1c2VyVHlwaW5nSW5JbnB1dHMgPSB0YWdOYW1lID09PSBcImlucHV0XCIgfHwgdGFnTmFtZSA9PT0gXCJ0ZXh0YXJlYVwiO1xyXG4gIGNvbnN0IHNjcm9sbGVyID0gdmlld3BvcnRzU3JvbGxlcigpO1xyXG5cclxuICBpZiAodXNlclR5cGluZ0luSW5wdXRzKSByZXR1cm47XHJcbiAgc3dpdGNoIChlLmtleUNvZGUpIHtcclxuICAgIGNhc2UgMzg6XHJcbiAgICAgIHNjcm9sbGVyLnByZXYoKTtcclxuICAgICAgYnJlYWs7XHJcbiAgICBjYXNlIDQwOlxyXG4gICAgICBzY3JvbGxlci5uZXh0KCk7XHJcbiAgICAgIGJyZWFrO1xyXG4gIH1cclxufSk7XHJcblxyXG4kKFwiLndyYXBwZXJcIikub24oXCJ0b3VjaG1vdmVcIiwgZSA9PiBlLnByZXZlbnREZWZhdWx0KCkpO1xyXG5cclxuJChcIltkYXRhLXNjcm9sbC10b1wiKS5jbGljayhlID0+IHtcclxuICBlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gIGNvbnN0ICR0aGlzID0gJChlLmN1cnJlbnRUYXJnZXQpO1xyXG4gIGNvbnN0IHRhcmdldCA9ICR0aGlzLmF0dHIoXCJkYXRhLXNjcm9sbC10b1wiKTtcclxuICBjb25zdCByZXFTZWN0aW9uID0gJChgW2RhdGEtc2VjdGlvbi1pZD1cIiR7dGFyZ2V0fVwiXWApO1xyXG5cclxuICBwZXJmb3JtVHJhbnNpdGlvbihyZXFTZWN0aW9uLmluZGV4KCkpO1xyXG59KTtcclxuaWYgKGlzTW9iaWxlKSB7XHJcbiAgLy9odHRwczovL2dpdGh1Yi5jb20vbWF0dGJyeXNvbi9Ub3VjaFN3aXBlLUpxdWVyeS1QbHVnaW5cclxuICAkKFwiYm9keVwiKS5zd2lwZSh7XHJcbiAgICBzd2lwZTogZnVuY3Rpb24gKFxyXG4gICAgICBldmVudCxcclxuICAgICAgZGlyZWN0aW9uXHJcbiAgICApIHtcclxuICAgICAgY29uc3Qgc2Nyb2xsZXIgPSB2aWV3cG9ydHNTcm9sbGVyKCk7XHJcbiAgICAgIGxldCBzY3JvbGxEaXJlY3Rpb24gPSBcIlwiO1xyXG5cclxuICAgICAgaWYgKGRpcmVjdGlvbiA9PT0gXCJ1cFwiKSBzY3JvbGxEaXJlY3Rpb24gPSBcIm5leHRcIlxyXG4gICAgICBpZiAoZGlyZWN0aW9uID09PSBcImRvd25cIikgc2Nyb2xsRGlyZWN0aW9uID0gXCJwcmV2XCJcclxuICAgICAgc2Nyb2xsZXJbc2Nyb2xsRGlyZWN0aW9uXSgpO1xyXG4gICAgfSxcclxuICB9KTtcclxufSIsImxldCBwbGF5ZXI7XHJcbmxldCBkdXJhdGlvbkNvbnRyb2w7XHJcbmxldCBzb3VuZENvbnRyb2w7XHJcbmxldCBpbnRlcnZhbElkO1xyXG5cclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGUgPT4ge1xyXG4gIHBsYXllciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwbGF5ZXInKTtcclxuXHJcbiAgLy8g0LLQtdGI0LDQtdC8INC+0LHRgNCw0LHQvtGC0YfQuNC6INGB0L7QsdGL0YLQuNGPINC90LAg0L3QsCDRgtC10LMgdmlkZW9cclxuICBwbGF5ZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBwbGF5U3RvcCk7XHJcblxyXG4gIC8vINC90LDRhdC+0LTQuNC8INCy0YHQtSDQutC90L7Qv9C60LggcGxheSDQuCDQvdCw0LLQtdGI0LjQstCw0LXQvCDRh9C10YDQtdC3INGG0LjQutC7INC90LAg0LrQsNC20LTRg9GOINC+0LHRgNCw0LHQvtGC0YfQuNC6XHJcbiAgbGV0IHBsYXlCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnBsYXknKTtcclxuICBmb3IgKGxldCBpID0gMDsgaSA8IHBsYXlCdXR0b25zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICBwbGF5QnV0dG9uc1tpXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHBsYXlTdG9wKTtcclxuICB9XHJcblxyXG4gIC8vINC+0LHRgNCw0LHQvtGC0YfQuNC6INGB0L7QsdGL0YLQuNC5INC90LAg0LrQvdC+0L/QutGDINC00LjQvdCw0LzQuNC6XHJcbiAgbGV0IG1pY0NvbnRyb2wgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWljTGV2ZWwnKTtcclxuICBtaWNDb250cm9sLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc291bmRPZik7XHJcblxyXG4gIC8vINC+0LHRgNCw0LHQvtGC0YfQuNC60Lgg0YHQvtCx0YvRgtC40Y8g0LTQu9GPINC/0L7Qu9C30YPQvdC60LAg0L/RgNC+0LTQvtC70LbQuNGC0LXQu9GM0L3QvtGB0YLQuCDQstC40LTQtdC+XHJcbiAgZHVyYXRpb25Db250cm9sID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2R1cmF0aW9uTGV2ZWwnKTtcclxuICBkdXJhdGlvbkNvbnRyb2wuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgc3RvcEludGVydmFsKTtcclxuICBkdXJhdGlvbkNvbnRyb2wuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzZXRWaWRlb0R1cmF0aW9uKTtcclxuXHJcbiAgZHVyYXRpb25Db250cm9sLm1pbiA9IDA7XHJcbiAgZHVyYXRpb25Db250cm9sLnZhbHVlID0gMDtcclxuXHJcbiAgLy8g0L7QsdGA0LDQsdC+0YLRh9C40LrQuCDRgdC+0LHRi9GC0LjRjyDQtNC70Y8g0L/QvtC70LfRg9C90LrQsCDQs9GA0L7QvNC+0LrRgdGC0LhcclxuICBzb3VuZENvbnRyb2wgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndm9sdW1lTGV2ZWwnKTtcclxuICBzb3VuZENvbnRyb2wuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjaGFuZ2VTb3VuZFZvbHVtZSk7XHJcbiAgc291bmRDb250cm9sLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBjaGFuZ2VTb3VuZFZvbHVtZSk7XHJcblxyXG4gIC8vINC30LDQtNCw0LXQvCDQvNCw0LrRgdC40LzQsNC70YzQvdC+0LUg0Lgg0LzQuNC90LjQvNCw0LvRjNC90L7QtSDQt9C90LDRh9C10L3QuNC1IHZvbHVtZVxyXG4gIHNvdW5kQ29udHJvbC5taW4gPSAwO1xyXG4gIHNvdW5kQ29udHJvbC5tYXggPSAxMDtcclxuXHJcbiAgc291bmRDb250cm9sLnZhbHVlID0gc291bmRDb250cm9sLm1heDtcclxuXHJcbn0pXHJcblxyXG5mdW5jdGlvbiBwbGF5U3RvcCgpIHtcclxuICAvLyDQvdCw0YXQvtC20YMg0LzQvtGOINC60L3QvtC/0LrRgyDRgSDQutCw0YDRgtC40L3QutC+0LkgUExBWSDQuCDQv9C+0LrQsNC30YvQstCw0Y4g0LjQu9C4INGB0LrRgNGL0LLQsNGOINC10LVcclxuICBsZXQgcGxheUltZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wbGF5ZXJfX3BsYXknKTtcclxuICBwbGF5SW1nLmNsYXNzTGlzdC50b2dnbGUoJ3BsYXllcl9fcGxheS0tYWN0aXZlJyk7XHJcblxyXG4gIC8vINC/0YDQuNGB0LLQsNC40LLQsNC10Lwg0L/QvtC70LfRg9C90LrRgyDQv9GA0L7QvtC70LbQuNGC0LXQu9GM0L3QvtGB0YLQuCDQstC40LTQtdC+INC80LDQutGB0LjQvNCw0LvRjNC90L7QtSDQt9C90LDRh9C10L3QuNC1IFxyXG4gIC8vINGA0LDQstC90L7QtSDQv9GA0L7QtNC+0LvQttC40YLQtdC70YzQvdC+0YHRgtC4INC90LDRiNC10LPQviDQstC40LTQtdC+XHJcbiAgZHVyYXRpb25Db250cm9sLm1heCA9IHBsYXllci5kdXJhdGlvbjtcclxuXHJcbiAgLy8g0L/RgNC+0LLQtdGA0Y/QtdC8INGB0YLQvtC40YIg0LvQuCDQstC40LTQtdC+INC90LAg0L/QsNGD0LfQtSwg0LXRgdC70Lgg0LTQsCDRgtC+INC/0YDQvtC00L7Qu9C20LDQtdC8INCy0L7RgdC/0YDQvtC40LfQstC10LTQtdC90LjQtVxyXG4gIGlmIChwbGF5ZXIucGF1c2VkKSB7XHJcbiAgICAvLyDQt9Cw0L/Rg9GB0LrQsNC10Lwg0LLQuNC00LXQvlxyXG4gICAgcGxheWVyLnBsYXkoKTtcclxuICAgIC8vINC+0LHQvdC+0LLQu9GP0LXQvCDQv9C+0LvQt9GD0L3QvtC6INC60LDQttC00YvQtSAxNSDQvNC40LvQuCDRgdC10LrRg9C90LQg0YTRg9C90LrRhtC40LXQuSB1cGRhdGVEdXJhdGlvblxyXG4gICAgaW50ZXJ2YWxJZCA9IHNldEludGVydmFsKHVwZGF0ZUR1cmF0aW9uLCAxMDAwIC8gNjYpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICAvLyDQv9C+0L3QuNC80LDQtdC8INGH0YLQviDQstC40LTQtdC+INC90LUg0YHRgtC+0LjRgiDQvdCwINC/0LDRg9C30LUs0Lgg0YHRgtCw0LLQuNC8INC10LPQviDQvdCwINC/0LDRg9C30YNcclxuICAgIHBsYXllci5wYXVzZSgpO1xyXG4gICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbElkKTtcclxuICB9XHJcbn1cclxuXHJcbi8vINC+0LHQvdC+0LLQu9GP0LXRgiDQv9C+0LfQuNGG0LjRjiDQv9C+0LvQt9GD0L3QutCwINC/0YDQvtC00L7Qu9C20LjRgtC10LvRjNC90L7RgdGC0Lgg0LLQuNC00LXQvlxyXG5mdW5jdGlvbiB1cGRhdGVEdXJhdGlvbigpIHtcclxuICBkdXJhdGlvbkNvbnRyb2wudmFsdWUgPSBwbGF5ZXIuY3VycmVudFRpbWU7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHN0b3BJbnRlcnZhbCgpIHtcclxuICBwbGF5ZXIucGF1c2UoKTtcclxuICBjbGVhckludGVydmFsKGludGVydmFsSWQpO1xyXG59XHJcblxyXG4vLyDQoNC10LDQu9C40LfRg9C10YIg0LLQvtC30LzQvtC20L3QvtGB0YLRjCDQv9C10YDQtdC80L7RgtC60Lgg0LLQuNC00LXQvlxyXG5mdW5jdGlvbiBzZXRWaWRlb0R1cmF0aW9uKCkge1xyXG4gIGlmIChwbGF5ZXIucGF1c2VkKSB7XHJcbiAgICBwbGF5ZXIucGxheSgpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBwbGF5ZXIucGF1c2UoKTtcclxuICB9XHJcblxyXG4gIHBsYXllci5jdXJyZW50VGltZSA9IGR1cmF0aW9uQ29udHJvbC52YWx1ZTtcclxuICAvLyDQvtCx0L3QvtCy0LvRj9C10Lwg0L/QvtC70LfRg9C90L7QuiDQutCw0LbQtNGL0LUgMTUg0LzQuNC70Lgg0YHQtdC60YPQvdC0INGE0YPQvdC60YbQuNC10LkgdXBkYXRlRHVyYXRpb25cclxuICBpbnRlcnZhbElkID0gc2V0SW50ZXJ2YWwodXBkYXRlRHVyYXRpb24sIDEwMDAgLyA2Nik7XHJcbn1cclxuXHJcbi8vINGD0L/RgNCw0LLQu9C10L3QuNC1INC30LLRg9C60L7QvCDQstC40LTQtdC+XHJcbmZ1bmN0aW9uIGNoYW5nZVNvdW5kVm9sdW1lKCkge1xyXG4gIC8vINGB0LLQvtC50YHRgtC+0LIgdmlkZW8udm9sdW1lINC80L7QttC10YIg0LjQvNC10YLRjCDQt9C90LDRh9C10L3QuCDQvtGCIDAg0LTQviAxIFxyXG4gIC8vINC/0L7RjdGC0L7QvNGDINC00LXQu9C40Lwg0LLRgdC1INC90LAgMTAgLCDRh9GC0L4g0LHRiyDQsdC+0LvQtdC1INGH0LXRgtC60L4g0LrQvtC90YLRgNC+0LvQuNGA0L7QstCw0YLRjCDQt9C90LDRh9C10L3QuNC1XHJcblxyXG4gIHBsYXllci52b2x1bWUgPSBzb3VuZENvbnRyb2wudmFsdWUgLyAxMDtcclxufVxyXG5cclxuZnVuY3Rpb24gc291bmRPZigpIHtcclxuICAvLyDQtNC10LvQsNC10Lwg0L/RgNC+0LLQtdGA0LrRgyDRg9GA0L7QstC90Y8g0LPRgNC+0LzQutC+0YHRgtC4IFxyXG4gIC8vINC10YHQu9C4INGDINC90LDRiNC10LPQviDQstC40LTQtdC+INC10YHRgtGMINC30LLRg9C6ICwg0YLQviDQvNGLINC10LPQviDQstGL0LrQu9GO0YfQsNC10LwgXHJcbiAgLy8g0L/RgNC10LTQstCw0YDQuNGC0LXQu9GM0L3QviDQt9Cw0L/QvtC80L3QuNCyINGC0LXQutGD0YnRg9GOINC/0L7Qt9C40YbQuNGOINCz0YDQvtC80LrQvtGB0YLQuCDQsiDQv9C10YDQtdC80LXQvdC90YPRjiBzb3VuZExldmVsXHJcblxyXG4gIGlmIChwbGF5ZXIudm9sdW1lID09PSAwKSB7XHJcbiAgICBwbGF5ZXIudm9sdW1lID0gc291bmRMZXZlbDtcclxuICAgIHNvdW5kQ29udHJvbC52YWx1ZSA9IHNvdW5kTGV2ZWwgKiAxMDtcclxuICB9IGVsc2Uge1xyXG4gICAgc291bmRMZXZlbCA9IHBsYXllci52b2x1bWU7XHJcbiAgICBwbGF5ZXIudm9sdW1lID0gMDtcclxuICAgIHNvdW5kQ29udHJvbC52YWx1ZSA9IDA7XHJcbiAgfVxyXG59XHJcbiIsImNvbnN0IG1vYmlsZURldGVjdGlvbiA9IG5ldyBNb2JpbGVEZXRlY3Qod2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQpO1xyXG5jb25zdCBNb2JpbGUgPSBtb2JpbGVEZXRlY3Rpb24ubW9iaWxlKCk7XHJcblxyXG5jb25zdCBzbGlkZXIgPSAkKFwiLnNsaWRlcl9fbGlzdFwiKS5ieFNsaWRlcih7XHJcbiAgcGFnZXI6IGZhbHNlLFxyXG4gIGNvbnRyb2xzOiBmYWxzZSxcclxuICB0b3VjaEVuYWJsZWQ6IGZhbHNlXHJcbn0pO1xyXG5cclxuaWYgKE1vYmlsZSkge1xyXG4gIHNsaWRlci5ieFNsaWRlcih7XHJcbiAgICB0b3VjaEVuYWJsZWQ6IHRydWVcclxuICB9KTtcclxufVxyXG5cclxuJChcIi5zbGlkZXJfX2Fycm93LS1sZWZ0XCIpLmNsaWNrKGUgPT4ge1xyXG4gIGUucHJldmVudERlZmF1bHQoKTtcclxuICBzbGlkZXIuZ29Ub1ByZXZTbGlkZSgpO1xyXG59KTtcclxuXHJcbiQoXCIuc2xpZGVyX19hcnJvdy0tcmlnaHRcIikuY2xpY2soZSA9PiB7XHJcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gIHNsaWRlci5nb1RvTmV4dFNsaWRlKCk7XHJcbn0pIiwiY29uc3QgZmluZEJsb2NrQnlBbGlhcyA9IChhbGlhcykgPT4ge1xyXG4gIHJldHVybiAkKFwiLnJldmlld3NfX2l0ZW1cIikuZmlsdGVyKChuZHgsIGl0ZW0pID0+IHtcclxuICAgIHJldHVybiAkKGl0ZW0pLmF0dHIoXCJkYXRhLWxpbmtlZC13aXRoXCIpID09PSBhbGlhcztcclxuICB9KTtcclxufTtcclxuXHJcbiQoXCIuaW50ZXJhY3RpdmUtYXZhdGFyX19zd2l0Y2hlci1saW5rXCIpLmNsaWNrKGUgPT4ge1xyXG4gIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgY29uc3QgJHRoaXMgPSAkKGUuY3VycmVudFRhcmdldCk7XHJcbiAgY29uc3QgdGFyZ2V0ID0gJHRoaXMuYXR0cihcImRhdGEtb3BlblwiKTtcclxuICBjb25zdCBpdGVtVG9TaG93ID0gZmluZEJsb2NrQnlBbGlhcyh0YXJnZXQpO1xyXG4gIGNvbnN0IGN1ckl0ZW0gPSAkdGhpcy5jbG9zZXN0KFwiLmludGVyYWN0aXZlLWF2YXRhclwiKTtcclxuXHJcbiAgaXRlbVRvU2hvdy5hZGRDbGFzcyhcImFjdGl2ZVwiKS5zaWJsaW5ncygpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xyXG4gIGN1ckl0ZW0uYWRkQ2xhc3MoXCJhY3RpdmVcIikuc2libGluZ3MoKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcclxufSk7ICJdfQ==
